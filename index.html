<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tempus Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
            --primary: #6C5CE7;
            --primary-light: #A29BFE;
            --secondary: #00B894;
            --secondary-light: #55EFC4;
            --danger: #FF7675;
            --warning: #FDCB6E;
            --dark: #2D3436;
            --light: #F7F7F7;
            --gray: #DFE6E9;
            --gray-dark: #636E72;
            --accent1: #74B9FF;
            --accent2: #E84393;
            --sidebar-width: 220px;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
            font-family: 'Inter', sans-serif;
    }
    
    body {
            background-color: var(--light);
            color: var(--dark);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }
        
        /* Sidebar styles */
    .sidebar {
      width: var(--sidebar-width);
            background: linear-gradient(180deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
      padding: 20px 0;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }
    
        .logo {
            display: flex;
            align-items: center;
      padding: 0 20px 20px;
      margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .logo-icon {
            width: 36px;
            height: 36px;
            background-color: white;
            border-radius: 8px;
            margin-right: 12px;
      display: flex;
      align-items: center;
            justify-content: center;
        }
        
        .logo-text {
            font-size: 22px;
            font-weight: 600;
        }
        
        .nav-item {
            padding: 12px 20px;
      display: flex;
      align-items: center;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 4px 0;
            border-left: 3px solid transparent;
        }
        
        .nav-item.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border-left: 3px solid white;
        }
        
        .nav-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: white;
        }
        
        .nav-icon {
            margin-right: 12px;
            opacity: 0.9;
        }
        
        .help {
            margin-top: auto;
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Main content */
    .main-content {
            flex: 1;
            overflow: auto;
      padding: 20px;
            display: flex;
            flex-direction: column;
    }
    
    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 20px;
            border-bottom: 1px solid var(--gray);
      margin-bottom: 20px;
    }
    
        .date {
            font-size: 20px;
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
        }

        .status {
      display: flex;
      align-items: center;
            margin-left: 15px;
    }
    
        .status-indicator {
      width: 10px;
      height: 10px;
            background-color: var(--secondary);
      border-radius: 50%;
            margin-right: 5px;
    }
    
        .view-controls {
      display: flex;
            background-color: var(--gray);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .view-control {
      padding: 8px 16px;
      cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.2s ease;
    }
    
        .view-control.active {
      background-color: white;
            color: var(--primary);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .today-btn {
            margin-left: 15px;
            background-color: var(--primary);
            color: white;
            border: none;
      padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
      cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 5px rgba(108, 92, 231, 0.3);
        }
        
        .today-btn:hover {
            background-color: var(--primary-light);
            transform: translateY(-1px);
        }
        
        /* Timeline */
    .section-title {
            font-size: 18px;
            font-weight: 600;
      margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
    }

    .section-actions {
            display: flex;
            align-items: center;
    }
    
    .more-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--gray-dark);
            font-size: 20px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
    }
    
    .more-btn:hover {
            background-color: var(--gray);
    }
    
        .timeline {
            border-radius: 12px;
      background-color: white;
      padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .timeline-grid {
            display: grid;
            grid-template-columns: repeat(15, 1fr);
            position: relative;
            margin-top: 10px;
            height: 150px;
            border-bottom: 1px solid var(--gray);
            gap: 2px;
        }
        
        .timeline-hour {
            position: relative;
            text-align: center;
            border-right: 1px solid var(--gray);
            height: 100%;
        }
        
        .timeline-hour:last-child {
            border-right: none;
        }
        
        .hour-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: var(--gray-dark);
        }
        
        .time-block {
            position: absolute;
            height: 60px;
            border-radius: 4px;
            background-color: var(--primary);
            top: 30px;
        }
        
        .time-block.design {
            background-color: var(--primary);
            width: 13%;
            left: 10%;
        }
        
        .time-block.meetings {
            background-color: var(--accent2);
            width: 8%;
            left: 25%;
        }
        
        .time-block.development {
            background-color: var(--secondary);
            width: 12%;
            left: 40%;
        }
        
        .time-block.breaks {
            background-color: var(--danger);
            width: 6%;
            left: 60%;
        }

        .time-block.focus {
            background-color: var(--primary);
            width: 10%;
            left: 70%;
        }
        
        .legend {
            display: flex;
            margin-top: 35px;
            justify-content: center;
            gap: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
            color: var(--gray-dark);
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
            margin-right: 5px;
        }
        
        /* Dashboard Layout */
        .dashboard-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        /* Daily Summary */
        .daily-summary {
            background-color: white;
            color: var(--dark);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            grid-column: 2;
            grid-row: 1;
        }
        
        .summary-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .daily-stat {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .stat-icon {
            width: 30px;
            height: 30px;
            background-color: rgba(108, 92, 231, 0.1);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 14px;
        }
        
        .stat-content {
            flex: 1;
        }
        
        .stat-text {
            font-size: 14px;
            line-height: 1.5;
        }
        
        .highlight {
            font-weight: 600;
            color: var(--primary);
        }
        
        .time-stats {
            display: flex;
            justify-content: space-between;
            margin: 25px 0;
        }
        
        .time-stat {
            text-align: center;
        }
        
        .time-value {
            font-size: 28px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .time-label {
            font-size: 13px;
            color: var(--gray-dark);
        }
        
        .percentage {
            font-size: 16px;
            color: var(--primary);
            margin-left: 8px;
        }
        
        .categories {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        
        .category {
            text-align: center;
        }
        
        .category-circle {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            margin: 0 auto 10px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .category-circle.focus {
            background: conic-gradient(var(--primary) 0% 62%, #f0f0f0 62% 100%);
        }
        
        .category-circle.meetings {
            background: conic-gradient(var(--accent2) 0% 15%, #f0f0f0 15% 100%);
        }
        
        .category-circle.breaks {
            background: conic-gradient(var(--danger) 0% 11%, #f0f0f0 11% 100%);
        }
        
        .category-circle.other {
            background: conic-gradient(var(--gray-dark) 0% 12%, #f0f0f0 12% 100%);
        }
        
        .category-inner {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .category-label {
            font-size: 12px;
            color: var(--gray-dark);
        }

        /* Projects & Tasks */
        .projects-tasks {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            grid-column: 1;
            grid-row: 1 / span 2;
        }
        
        .project-item {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--gray);
        }
        
        .project-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .project-name {
            display: flex;
            align-items: center;
        }
        
        .project-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
            margin-right: 8px;
        }
        
        .project-title {
            font-weight: 500;
            font-size: 14px;
        }
        
        .project-time {
            font-size: 13px;
            color: var(--gray-dark);
        }
        
        .progress-bar {
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 5px;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 4px;
        }
        
        .progress-fill.finwall {
            width: 49%;
            background-color: var(--primary);
        }
        
        .progress-fill.ds12 {
            width: 100%;
            background-color: var(--secondary);
        }
        
        .progress-fill.ds42 {
            width: 55%;
            background-color: var(--accent1);
        }
        
        .progress-fill.system {
            width: 40%;
            background-color: var(--gray-dark);
        }
        
        .task-status {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        
        .task-icon {
            margin-right: 10px;
            color: var(--primary);
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 1.5px solid var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }
        
        .task-icon.completed {
            background-color: var(--primary);
            color: white;
        }
        
        .task-text {
            font-size: 13px;
            color: var(--gray-dark);
        }
        
        /* Apps & Websites */
        .apps-websites {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            grid-column: 2;
            grid-row: 2;
        }
        
        .app-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
        }
        
        .app-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .app-info {
            display: flex;
            align-items: center;
        }
        
        .app-icon {
            width: 30px;
            height: 30px;
            border-radius: 8px;
            background-color: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 14px;
            color: white;
        }
        
        .app-name {
            font-size: 14px;
            font-weight: 500;
        }
        
        .app-usage {
            width: 50%;
        }
        
        .usage-bar {
            height: 6px;
            background-color: #f0f0f0;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .usage-fill {
            height: 100%;
            border-radius: 3px;
        }
        
        .usage-fill.figma {
            width: 47%;
            background-color: var(--primary);
        }
        
        .usage-fill.adobe {
            width: 12%;
            background-color: var(--accent2);
        }
        
        .usage-fill.zoom {
            width: 12%;
            background-color: var(--accent1);
        }
        
        .usage-fill.slack {
            width: 7%;
            background-color: var(--secondary);
        }
        
        .usage-fill.pinterest {
            width: 6%;
            background-color: var(--danger);
        }
        
        .app-time {
            font-size: 13px;
            color: var(--gray-dark);
            text-align: right;
            min-width: 40px;
        }
  </style>
</head>
<body>
    <!-- Sidebar -->
  <div class="sidebar">
        <div class="logo">
            <div class="logo-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            </div>
            <div class="logo-text">tempus.</div>
        </div>
        
        <div class="nav-item active" id="dashboard-tab">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
            </div>
            Dashboard
        </div>
        
        <div class="nav-item" id="calendar-tab">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            </div>
            Calendar
        </div>
        
        <div class="nav-item" id="projects-tab">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
            </div>
            Projects & tasks
        </div>
        
        <div class="nav-item" id="timer-tab">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            </div>
            Timer
        </div>
        
        <div class="nav-item" id="history-tab">
            <div class="nav-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bar-chart-2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
            </div>
            History
        </div>
        
        <div class="help">
            <div class="nav-item" id="settings-tab">
              <div class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
              </div>
              Settings
            </div>
            <div class="nav-item">
              <div class="nav-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-help-circle"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
              </div>
              Help
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard content will only be shown when dashboard is active -->
        <div id="dashboard-content" class="dashboard-wrapper">
            <!-- Header -->
            <div class="header">
                <div class="date">
                    Wednesday, September 8, 2023
                    <div class="status">
                        <div class="status-indicator"></div>
                        <span>Tracking: Active</span>
                    </div>
                </div>
                
                <div class="right-controls">
                    <div class="view-controls">
                        <div class="view-control active">Day</div>
                        <div class="view-control">Week</div>
                        <div class="view-control">Month</div>
                    </div>
                    <button class="today-btn">Today</button>
                </div>
            </div>
            
            <div class="timeline-section">
                <div class="section-title">Timeline</div>
                
                <div class="timeline-container" style="background-color: white; border-radius: 12px; padding: 10px; margin-bottom: 20px;">
                    <div class="timeline-grid" style="display: grid; grid-template-columns: repeat(12, 1fr); position: relative; height: 100px;">
                        <!-- Hour labels -->
                        <div style="position: absolute; top: -25px; left: 0;">9:00</div>
                        <div style="position: absolute; top: -25px; left: 8.33%;">10:00</div>
                        <div style="position: absolute; top: -25px; left: 16.67%;">11:00</div>
                        <div style="position: absolute; top: -25px; left: 25%;">12:00</div>
                        <div style="position: absolute; top: -25px; left: 33.33%;">13:00</div>
                        <div style="position: absolute; top: -25px; left: 41.67%;">14:00</div>
                        <div style="position: absolute; top: -25px; left: 50%;">15:00</div>
                        <div style="position: absolute; top: -25px; left: 58.33%;">16:00</div>
                        <div style="position: absolute; top: -25px; left: 66.67%;">17:00</div>
                        <div style="position: absolute; top: -25px; left: 75%;">18:00</div>
                        <div style="position: absolute; top: -25px; left: 83.33%;">19:00</div>
                        <div style="position: absolute; top: -25px; left: 91.67%;">20:00</div>
                        
                        <!-- Timeline blocks -->
                        <div style="position: absolute; left: 0; width: 8.33%; height: 80px; background-color: #333; top: 10px;"></div>
                        <div style="position: absolute; left: 12.5%; width: 10.42%; height: 80px; background-color: #333; top: 10px;"></div>
                        <div style="position: absolute; left: 25%; width: 10.42%; height: 80px; background-color: #333; top: 10px;"></div>
                        <div style="position: absolute; left: 50%; width: 8.33%; height: 80px; background-color: #333; top: 10px;"></div>
                        <div style="position: absolute; left: 60.42%; width: 9.37%; height: 80px; background-color: #333; top: 10px;"></div>
                        
                        <!-- Timeline color indicators -->
                        <div style="position: absolute; bottom: 0; left: 0; height: 5px; width: 8.33%; background-color: #4a6ee0;"></div>
                        <div style="position: absolute; bottom: 0; left: 12.5%; height: 5px; width: 10.42%; background-color: #a29bfe;"></div>
                        <div style="position: absolute; bottom: 0; left: 25%; height: 5px; width: 10.42%; background-color: #a29bfe;"></div>
                        <div style="position: absolute; bottom: 0; left: 50%; height: 5px; width: 8.33%; background-color: #4a6ee0;"></div>
                        <div style="position: absolute; bottom: 0; left: 60.42%; height: 5px; width: 9.37%; background-color: #e84393;"></div>
                        
                        <!-- Current time indicator -->
                        <div style="position: absolute; left: 75%; height: 80px; border-left: 2px solid #FF5757; top: 10px;">
                            <div style="position: absolute; left: -20px; top: -10px; background-color: #FF5757; color: white; font-size: 12px; padding: 2px 5px; border-radius: 4px;">19:41</div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Projects & Tasks section -->
                    <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <div class="section-title" style="margin: 0;">Projects & tasks</div>
                            <div>⋯</div>
                        </div>
                        
                        <!-- Project Item -->
                        <div style="margin-bottom: 25px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #a29bfe; border-radius: 2px; margin-right: 6px;"></span>Finwall app</div>
                                <div>49%</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px; margin-bottom: 10px;">
                                <div style="height: 100%; width: 49%; background-color: #a29bfe; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72; text-align: right;">3 hr 26 min</div>
                            
                            <!-- Tasks -->
                            <div style="margin-top: 10px;">
                                <div style="display: flex; align-items: center; margin-bottom: 8px;">
                                    <input type="checkbox" style="margin-right: 8px;">
                                    <div>DS12 - Dark version</div>
                                    <div style="margin-left: auto; font-size: 12px; color: #636E72;">1 hr 51 min</div>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 8px;">
                                    <input type="checkbox" checked style="margin-right: 8px;">
                                    <div style="text-decoration: line-through; color: #636E72;">DS42 - Settings section</div>
                                    <div style="margin-left: auto; font-size: 12px; color: #636E72;">55 min</div>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <input type="checkbox" style="margin-right: 8px;">
                                    <div>System update</div>
                                    <div style="margin-left: auto; font-size: 12px; color: #636E72;">40 min</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- More Projects (simplified for brevity) -->
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #4a6ee0; border-radius: 2px; margin-right: 6px;"></span>Finwall website</div>
                                <div>32%</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 32%; background-color: #4a6ee0; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72; text-align: right;">1 hr 47 min</div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #636E72; border-radius: 2px; margin-right: 6px;"></span>X Terminal</div>
                                <div>14%</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 14%; background-color: #636E72; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72; text-align: right;">46 min</div>
                        </div>
                        
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #00B894; border-radius: 2px; margin-right: 6px;"></span>Li.Fi</div>
                                <div>5%</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 5%; background-color: #00B894; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72; text-align: right;">19 min</div>
                        </div>
                    </div>
                    
                    <!-- Apps & Websites section -->
                    <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <div class="section-title" style="margin: 0;">Apps & Websites</div>
                            <div>⋯</div>
                        </div>
                        
                        <!-- App Items -->
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>47%</div>
                                <div>Figma</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 47%; background-color: #4a6ee0; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72;">2 hr 58 min</div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>12%</div>
                                <div>Adobe Photoshop</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 12%; background-color: #4a6ee0; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72;">46 min</div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>12%</div>
                                <div>zoom.us</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 12%; background-color: #4a6ee0; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72;">45 min</div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>7%</div>
                                <div>Slack</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 7%; background-color: #4a6ee0; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72;">26 min</div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>6%</div>
                                <div>pinterest.com</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 6%; background-color: #4a6ee0; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72;">23 min</div>
                        </div>
                        
                        <!-- More Items -->
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>22%</div>
                                <div>Other</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 22%; background-color: #636E72; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72;">1 hr 23 min</div>
                        </div>
                    </div>
                </div>
                
                <!-- Right column with Daily Summary -->
                <div>
                    <!-- Daily Summary -->
                    <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 20px;">
                        <div class="section-title" style="margin-bottom: 20px;">Daily Summary</div>
                        
                        <div style="margin-bottom: 20px; line-height: 1.5;">
                            <span style="display: inline-block; background-color: #f3f3f3; width: 20px; height: 20px; border-radius: 4px; text-align: center; margin-right: 5px;">⚡</span>
                            Today you had <span style="font-weight: 600; color: #4a6ee0;">20%</span> more meetings than usual, you closed <span style="font-weight: 600; color: #4a6ee0;">2 tasks</span> on two projects, but the focus was <span style="font-weight: 600; color: #4a6ee0;">12%</span> lower than yesterday.
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="color: #636E72; font-size: 14px; margin-bottom: 5px;">Total time worked</div>
                            <div style="font-size: 24px; font-weight: 600;">6 hr 18 min</div>
                        </div>
                        
                        <div>
                            <div style="color: #636E72; font-size: 14px; margin-bottom: 5px;">Percent of work day</div>
                            <div style="display: flex; align-items: center;">
                                <div style="font-size: 24px; font-weight: 600; margin-right: 10px;">79%</div>
                                <div style="color: #636E72; font-size: 12px;">of 8 hr 0 min</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Activity Distribution -->
                    <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <!-- Chart Circles -->
                            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                <div style="position: relative; width: 100px; height: 100px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 10px;">
                                    <div style="position: absolute; top: 0; left: 0; width: 100px; height: 100px; border-radius: 50%; background: conic-gradient(#4a6ee0 0% 62%, #e84393 62% 77%, #FDCB6E 77% 88%, #636E72 88% 100%);"></div>
                                    <div style="position: absolute; top: 15px; left: 15px; width: 70px; height: 70px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600;">62%</div>
                                </div>
                                <div>Focus</div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                <!-- Other Category Circles -->
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="position: relative; width: 50px; height: 50px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 5px;">
                                        <div style="position: absolute; top: 0; left: 0; width: 50px; height: 50px; border-radius: 50%; background-color: #e84393;"></div>
                                        <div style="position: absolute; top: 5px; left: 5px; width: 40px; height: 40px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600;">15%</div>
                                    </div>
                                    <div style="font-size: 12px;">Meetings</div>
                                </div>
                                
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="position: relative; width: 50px; height: 50px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 5px;">
                                        <div style="position: absolute; top: 0; left: 0; width: 50px; height: 50px; border-radius: 50%; background-color: #FDCB6E;"></div>
                                        <div style="position: absolute; top: 5px; left: 5px; width: 40px; height: 40px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600;">11%</div>
                                    </div>
                                    <div style="font-size: 12px;">Breaks</div>
                                </div>
                                
                                <div style="display: flex; flex-direction: column; align-items: center;">
                                    <div style="position: relative; width: 50px; height: 50px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 5px;">
                                        <div style="position: absolute; top: 0; left: 0; width: 50px; height: 50px; border-radius: 50%; background-color: #636E72;"></div>
                                        <div style="position: absolute; top: 5px; left: 5px; width: 40px; height: 40px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600;">12%</div>
                                    </div>
                                    <div style="font-size: 12px;">Other</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Top Categories -->
                        <div style="margin-top: 20px;">
                            <div style="color: #636E72; font-size: 14px; margin-bottom: 10px;">Top categories</div>
                            
                            <div style="margin-bottom: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <div>59%</div>
                                    <div>Design</div>
                                </div>
                                <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                    <div style="height: 100%; width: 59%; background-color: #4a6ee0; border-radius: 3px;"></div>
                                </div>
                                <div style="font-size: 12px; color: #636E72; text-align: right;">3 hr 44 min</div>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <div>12%</div>
                                    <div>Video Conference</div>
                                </div>
                                <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                    <div style="height: 100%; width: 12%; background-color: #e84393; border-radius: 3px;"></div>
                                </div>
                                <div style="font-size: 12px; color: #636E72; text-align: right;">45 min</div>
                            </div>
                            
                            <div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <div>10%</div>
                                    <div>Work Messaging</div>
                                </div>
                                <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                    <div style="height: 100%; width: 10%; background-color: #00B894; border-radius: 3px;"></div>
                                </div>
                                <div style="font-size: 12px; color: #636E72; text-align: right;">37 min</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Event Modal -->
    <div class="event-modal" id="event-modal">
        <div class="event-modal-content">
            <div class="event-modal-header">
                <div class="event-modal-title">Add Event</div>
                <button class="event-modal-close">&times;</button>
            </div>
            <div class="event-modal-body">
                <form id="event-form">
                    <div class="event-form-group">
                        <label class="event-form-label">Title</label>
                        <input type="text" class="event-form-input" id="event-title" placeholder="Add title" required>
                    </div>
                    <div class="event-form-row">
                        <div class="event-form-group">
                            <label class="event-form-label">Date</label>
                            <input type="date" class="event-form-input" id="event-date" required>
                        </div>
                        <div class="event-form-group">
                            <label class="event-form-label">Event type</label>
                            <select class="event-form-select" id="event-type">
                                <option value="work">Work</option>
                                <option value="personal">Personal</option>
                                <option value="meeting">Meeting</option>
                                <option value="reminder">Reminder</option>
                            </select>
                        </div>
                    </div>
                    <div class="event-form-row">
                        <div class="event-form-group">
                            <label class="event-form-label">Start time</label>
                            <input type="time" class="event-form-input" id="event-start-time">
                        </div>
                        <div class="event-form-group">
                            <label class="event-form-label">End time</label>
                            <input type="time" class="event-form-input" id="event-end-time">
                        </div>
                    </div>
                    <div class="event-form-group">
                        <label class="event-form-label">Location</label>
                        <input type="text" class="event-form-input" id="event-location" placeholder="Add location">
                    </div>
                    <div class="event-form-group">
                        <label class="event-form-label">Description</label>
                        <textarea class="event-form-textarea" id="event-description" rows="3" placeholder="Add description"></textarea>
                    </div>
                    <input type="hidden" id="event-id">
                </form>
            </div>
            <div class="event-modal-footer">
                <button class="event-form-btn btn-delete" id="delete-event-btn" style="display: none;">Delete</button>
                <button class="event-form-btn btn-cancel" id="cancel-event-btn">Cancel</button>
                <button class="event-form-btn btn-save" id="save-event-btn">Save</button>
            </div>
        </div>
    </div>

    <!-- Settings Section -->
    <div id="settings-section" class="tab-content" style="display: none;">
        <div class="header">
            <div class="date">
                Settings
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>Active</span>
                </div>
            </div>
        </div>
        
        <div class="card" style="margin-bottom: 20px;">
            <div class="card-header">
                <div class="section-title">General Settings</div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <div class="event-form-group">
                    <label class="event-form-label">Display Name</label>
                    <input type="text" class="event-form-input" id="settings-display-name" placeholder="Your Name" value="John Doe">
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Email</label>
                    <input type="email" class="event-form-input" id="settings-email" placeholder="Your Email" value="john.doe@example.com">
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Language</label>
                    <select class="event-form-select" id="settings-language">
                        <option value="en">English</option>
                        <option value="fr">French</option>
                        <option value="es">Spanish</option>
                        <option value="de">German</option>
                    </select>
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Time Zone</label>
                    <select class="event-form-select" id="settings-timezone">
                        <option value="utc">UTC</option>
                        <option value="est" selected>Eastern Standard Time</option>
                        <option value="cst">Central Standard Time</option>
                        <option value="mst">Mountain Standard Time</option>
                        <option value="pst">Pacific Standard Time</option>
                    </select>
                </div>
            </div>
            
            <div style="text-align: right;">
                <button class="calendar-new-btn" id="save-settings-btn">
                    Save Settings
                </button>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <div class="section-title">Appearance</div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <div class="event-form-group">
                    <label class="event-form-label">Theme</label>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <div>
                            <input type="radio" id="light-theme" name="theme" value="light" checked>
                            <label for="light-theme" style="margin-left: 5px;">Light</label>
                        </div>
                        <div>
                            <input type="radio" id="dark-theme" name="theme" value="dark">
                            <label for="dark-theme" style="margin-left: 5px;">Dark</label>
                        </div>
                        <div>
                            <input type="radio" id="auto-theme" name="theme" value="auto">
                            <label for="auto-theme" style="margin-left: 5px;">System Default</label>
                        </div>
                    </div>
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Font Size</label>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <div>
                            <input type="radio" id="small-font" name="font-size" value="small">
                            <label for="small-font" style="margin-left: 5px;">Small</label>
                        </div>
                        <div>
                            <input type="radio" id="medium-font" name="font-size" value="medium" checked>
                            <label for="medium-font" style="margin-left: 5px;">Medium</label>
                        </div>
                        <div>
                            <input type="radio" id="large-font" name="font-size" value="large">
                            <label for="large-font" style="margin-left: 5px;">Large</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: right;">
                <button class="calendar-new-btn" id="save-appearance-btn">
                    Save Appearance
                </button>
            </div>
        </div>
    </div>
    
    <!-- YouTube Manager Section -->
    <div id="youtube-section" class="tab-content" style="display: none; width: 100%;">
        <div class="header">
            <div class="date">
                YouTube Manager
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>Active</span>
                </div>
            </div>
            <div class="view-controls-wrapper" style="display: flex; align-items: center;">
                <div class="view-controls youtube-filter-controls">
                    <div id="active-filter">All Videos</div>
                </div>
                <button class="calendar-new-btn" id="add-youtube-link-btn">Add Link</button>
            </div>
        </div>
        
        <div class="youtube-container">
            <div class="youtube-form">
                <div id="youtube-success" style="display: none; background-color: var(--secondary); color: white; padding: 10px; border-radius: 8px; margin-bottom: 15px;"></div>
                <div id="youtube-error" style="display: none; background-color: var(--danger); color: white; padding: 10px; border-radius: 8px; margin-bottom: 15px;"></div>
                
                <div class="youtube-categories">
                    <div class="category-header">
                        <div class="category-title">Categories</div>
                        <button id="manage-categories-btn" class="category-add-button">Manage Categories</button>
                    </div>
                    <div id="categories-container" class="category-tags">
                        <div class="category-tag active" data-category="all">All</div>
                    </div>
                    
                    <div class="category-input-container" id="category-input-group" style="display: none;">
                        <input type="text" id="category-input" class="category-input" placeholder="Add new category (e.g., Music, Education, Gaming)">
                        <button id="add-category-btn" class="category-add-button">Add</button>
                    </div>
                </div>
                
                <div class="youtube-input-container">
                    <input 
                        type="text" 
                        id="youtube-url-input" 
                        placeholder="Enter YouTube URL (e.g., https://www.youtube.com/watch?v=...)" 
                        class="youtube-input"
                    />
                    <select id="video-category-select" class="event-form-select" style="width: 150px;">
                        <option value="">Select Category</option>
                    </select>
                    <button id="youtube-add-btn" class="youtube-add-button">Add Link</button>
                </div>
            </div>
            
            <div class="youtube-filter-controls">
                <div>
                    <span class="filter-label">Filter:</span>
                    <span id="active-filter">All Videos</span>
                </div>
                <div>
                    <span id="video-count">0 videos</span>
                </div>
            </div>
            
            <div id="youtube-links-container" class="youtube-links">
                <div class="empty-message">
                    No YouTube links added yet. Add your first link above.
                </div>
            </div>
        </div>
    </div>

    <!-- Projects & Tasks Section -->
    <div id="projects-section" class="tab-content">
        <div class="header">
            <div class="date">
                Projects & Tasks
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>Active</span>
                </div>
            </div>
            <div class="view-controls-wrapper" style="display: flex; align-items: center;">
                <div class="view-controls">
                    <div class="view-control active" data-project-view="list">List</div>
                    <div class="view-control" data-project-view="kanban">Kanban</div>
                    <div class="view-control" data-project-view="calendar">Calendar</div>
                </div>
                <button class="calendar-new-btn" id="add-project-btn">+ New Project</button>
            </div>
        </div>
        
        <div class="projects-container" style="display: flex; height: calc(100vh - 100px);">
            <!-- Projects Sidebar -->
            <div class="project-sidebar" style="width: 250px; border-right: 1px solid var(--gray); padding: 20px; overflow-y: auto;">
                <div class="section-title" style="margin-bottom: 15px;">My Projects</div>
                
                <div class="project-list">
                    <div class="project-item active" data-project-id="all">
                        <div class="project-color" style="background-color: var(--primary);"></div>
                        <div class="project-name">All Tasks</div>
                        <div class="project-count">0</div>
                    </div>
                    <div class="project-item" data-project-id="today">
                        <div class="project-color" style="background-color: var(--secondary);"></div>
                        <div class="project-name">Today</div>
                        <div class="project-count">0</div>
                    </div>
                    <div class="project-item" data-project-id="upcoming">
                        <div class="project-color" style="background-color: var(--accent2);"></div>
                        <div class="project-name">Upcoming</div>
                        <div class="project-count">0</div>
                    </div>
                </div>
                
                <div class="section-divider" style="height: 1px; background-color: var(--gray); margin: 20px 0;"></div>
                
                <div class="section-title" style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center;">
                    <span>Projects</span>
                    <button class="mini-add-btn" id="add-new-project-btn" style="background: none; border: none; font-size: 18px; cursor: pointer;">+</button>
                </div>
                
                <div id="user-projects-list">
                    <!-- User projects will be added here -->
                </div>
            </div>
            
            <!-- Project Content -->
            <div class="project-content" style="flex: 1; padding: 20px; overflow-y: auto;">
                <div id="project-detail-header" style="margin-bottom: 20px;">
                    <h2 id="project-detail-title">All Tasks</h2>
                    <div class="project-progress-container" style="margin-top: 10px;">
                        <div class="progress-label" style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>Progress</span>
                            <span id="progress-percentage">0%</span>
                        </div>
                        <div class="progress-bar-container" style="height: 10px; background-color: var(--gray); border-radius: 5px; overflow: hidden;">
                            <div id="progress-bar" style="height: 100%; width: 0%; background-color: var(--primary); transition: width 0.3s;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="add-task-container" style="margin-bottom: 20px;">
                    <div class="add-task-input-container" style="display: flex; gap: 10px;">
                        <input type="text" id="new-task-input" placeholder="Add a new task..." class="task-input" style="flex: 1; padding: 12px; border: 1px solid var(--gray); border-radius: 8px; font-size: 16px;">
                        <button id="add-task-btn" class="calendar-new-btn" style="white-space: nowrap;">Add Task</button>
                    </div>
                </div>
                
                <div id="tasks-list-container">
                    <!-- Tasks will be displayed here -->
                </div>
            </div>
        </div>
        
        <!-- Add Project Modal -->
        <div id="project-modal" class="event-modal">
            <div class="event-modal-content" style="max-width: 500px;">
                <div class="event-modal-header">
                    <div class="event-modal-title">Add New Project</div>
                    <button class="event-modal-close" id="close-project-modal">&times;</button>
                </div>
                <div class="event-modal-body">
                    <div class="event-form-group">
                        <label class="event-form-label">Project Name</label>
                        <input type="text" id="project-name-input" class="event-form-input" placeholder="Enter project name" required>
                    </div>
                    <div class="event-form-group">
                        <label class="event-form-label">Color</label>
                        <div class="color-picker" style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <div class="color-option" data-color="var(--primary)" style="width: 30px; height: 30px; border-radius: 50%; background-color: var(--primary); cursor: pointer; border: 2px solid transparent;"></div>
                            <div class="color-option" data-color="var(--secondary)" style="width: 30px; height: 30px; border-radius: 50%; background-color: var(--secondary); cursor: pointer; border: 2px solid transparent;"></div>
                            <div class="color-option" data-color="var(--accent)" style="width: 30px; height: 30px; border-radius: 50%; background-color: var(--accent); cursor: pointer; border: 2px solid transparent;"></div>
                            <div class="color-option" data-color="var(--accent2)" style="width: 30px; height: 30px; border-radius: 50%; background-color: var(--accent2); cursor: pointer; border: 2px solid transparent;"></div>
                            <div class="color-option" data-color="var(--warning)" style="width: 30px; height: 30px; border-radius: 50%; background-color: var(--warning); cursor: pointer; border: 2px solid transparent;"></div>
                            <div class="color-option" data-color="var(--danger)" style="width: 30px; height: 30px; border-radius: 50%; background-color: var(--danger); cursor: pointer; border: 2px solid transparent;"></div>
                        </div>
                        <input type="hidden" id="project-color-input" value="var(--primary)">
                    </div>
                    <div class="event-form-group">
                        <label class="event-form-label">Description (Optional)</label>
                        <textarea id="project-description-input" class="event-form-textarea" rows="3" placeholder="Enter project description"></textarea>
                    </div>
                </div>
                <div class="event-modal-footer">
                    <button class="event-form-btn btn-cancel" id="cancel-project-btn">Cancel</button>
                    <button class="event-form-btn btn-save" id="save-project-btn">Save Project</button>
                </div>
            </div>
        </div>
        
        <!-- Add Task Modal -->
        <div id="task-modal" class="event-modal">
            <div class="event-modal-content" style="max-width: 500px;">
                <div class="event-modal-header">
                    <div class="event-modal-title">Add New Task</div>
                    <button class="event-modal-close" id="close-task-modal">&times;</button>
                </div>
                <div class="event-modal-body">
                    <div class="event-form-group">
                        <label class="event-form-label">Task Name</label>
                        <input type="text" id="task-name-input" class="event-form-input" placeholder="Enter task name" required>
                    </div>
                    <div class="event-form-group">
                        <label class="event-form-label">Project</label>
                        <select id="task-project-select" class="event-form-select">
                            <!-- Projects will be loaded here -->
                        </select>
                    </div>
                    <div class="event-form-row">
                        <div class="event-form-group">
                            <label class="event-form-label">Due Date</label>
                            <input type="date" id="task-due-date" class="event-form-input">
                        </div>
                        <div class="event-form-group">
                            <label class="event-form-label">Priority</label>
                            <select id="task-priority" class="event-form-select">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>
                    <div class="event-form-row">
                        <div class="event-form-group">
                            <label class="event-form-label">Start Time</label>
                            <input type="time" id="task-start-time" class="event-form-input">
                        </div>
                        <div class="event-form-group">
                            <label class="event-form-label">Estimated Duration</label>
                            <select id="task-duration" class="event-form-select">
                                <option value="30">30 minutes</option>
                                <option value="60" selected>1 hour</option>
                                <option value="90">1.5 hours</option>
                                <option value="120">2 hours</option>
                                <option value="150">2.5 hours</option>
                                <option value="180">3 hours</option>
                                <option value="210">3.5 hours</option>
                                <option value="240">4 hours</option>
                                <option value="300">5 hours</option>
                                <option value="360">6 hours</option>
                                <option value="420">7 hours</option>
                                <option value="480">8 hours</option>
                            </select>
                        </div>
                    </div>
                    <div class="event-form-group">
                        <label class="event-form-label">Notes (Optional)</label>
                        <textarea id="task-notes-input" class="event-form-textarea" rows="3" placeholder="Add notes about this task"></textarea>
                    </div>
                </div>
                <div class="event-modal-footer">
                    <button class="event-form-btn btn-delete" id="delete-task-btn" style="display: none;">Delete</button>
                    <button class="event-form-btn btn-cancel" id="cancel-task-btn">Cancel</button>
                    <button class="event-form-btn btn-save" id="save-task-btn">Save Task</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Timer Section -->
    <div id="timer-section" class="tab-content" style="display: none; width: 100%;">
        <div class="header">
            <div class="date">
                Time Tracking
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>Active</span>
                </div>
            </div>
            <div class="view-controls-wrapper" style="display: flex; align-items: center;">
                <div class="view-controls">
                    <div class="view-control active" data-timer-view="day">Day</div>
                    <div class="view-control" data-timer-view="week">Week</div>
                </div>
                <button class="calendar-new-btn" id="start-timer-btn">Start Timer</button>
            </div>
        </div>
        
        <div class="timer-container" style="display: flex; height: calc(100vh - 150px); width: 100%;">
            <!-- Timer Controls -->
            <div class="timer-controls" style="width: 350px; padding: 20px; border-right: 1px solid var(--gray);">
                <div class="timer-display" style="text-align: center; margin-bottom: 30px;">
                    <div class="time-display" style="font-size: 48px; font-weight: 600;">00:00:00</div>
                    <div class="timer-status">Ready to start</div>
                </div>
                
                <div class="timer-form">
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label for="activity-name" style="display: block; margin-bottom: 5px; font-weight: 500;">Activity Name</label>
                        <input type="text" id="activity-name" placeholder="What are you working on?" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--gray);">
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label for="task-select" style="display: block; margin-bottom: 5px; font-weight: 500;">Select Task (Optional)</label>
                        <select id="task-select" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--gray);">
                            <option value="">-- Select a task --</option>
                            <!-- Tasks will be populated here -->
                        </select>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label for="activity-category" style="display: block; margin-bottom: 5px; font-weight: 500;">Category</label>
                        <select id="activity-category" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--gray);">
                            <option value="focus">Focus Work</option>
                            <option value="meetings">Meetings</option>
                            <option value="breaks">Breaks</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="timer-buttons" style="display: flex; gap: 10px; margin-top: 20px;">
                        <button id="timer-start-btn" class="timer-btn start" style="flex: 1; padding: 12px; border-radius: 8px; background-color: var(--primary); color: white; border: none; font-weight: 500; cursor: pointer;">Start</button>
                        <button id="timer-pause-btn" class="timer-btn pause" style="flex: 1; padding: 12px; border-radius: 8px; background-color: var(--warning); color: white; border: none; font-weight: 500; cursor: pointer; display: none;">Pause</button>
                        <button id="timer-stop-btn" class="timer-btn stop" style="flex: 1; padding: 12px; border-radius: 8px; background-color: var(--danger); color: white; border: none; font-weight: 500; cursor: pointer; display: none;">Stop</button>
                    </div>
                </div>
                
                <div class="timer-stats" style="margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--gray);">
                    <h3 style="margin-bottom: 15px; font-size: 18px;">Today's Stats</h3>
                    <div class="stat-item" style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Total Time:</span>
                        <span id="today-total-time">0h 0m</span>
                    </div>
                    <div class="stat-item" style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Activities:</span>
                        <span id="today-activities-count">0</span>
                    </div>
                </div>
            </div>
            
            <!-- Activity Timeline -->
            <div class="timeline-wrapper" style="flex: 1; padding: 20px; overflow-y: auto;">
                <h3 style="margin-bottom: 15px;">Activity Timeline</h3>
                
                <div class="timeline-container">
                    <div class="timeline-hours">
                        <div class="hour-marker" style="display: flex; border-bottom: 1px solid var(--gray); padding: 10px 0;">
                            <div style="width: 60px; text-align: right; padding-right: 10px; color: var(--gray-dark);">12 AM</div>
                            <div style="flex: 1; position: relative; height: 40px;"></div>
                        </div>
                        <div class="hour-marker" style="display: flex; border-bottom: 1px solid var(--gray); padding: 10px 0;">
                            <div style="width: 60px; text-align: right; padding-right: 10px; color: var(--gray-dark);">1 AM</div>
                            <div style="flex: 1; position: relative; height: 40px;"></div>
                        </div>
                        <!-- More hours would be generated dynamically -->
                    </div>
                    
                    <div id="activities-list" style="margin-top: 30px;">
                        <h3 style="margin-bottom: 15px;">Recent Activities</h3>
                        <div class="empty-state" style="text-align: center; padding: 30px; color: var(--gray-dark);">
                            No activities recorded yet. Start a timer to begin tracking.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- History Section -->
    <div id="history-section" class="tab-content" style="display: none;">
        <div class="header">
            <div class="date">
                Activity History
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>Active</span>
                </div>
            </div>
        </div>
        
        <div class="history-container" style="padding: 20px;">
            <div class="history-filters" style="margin-bottom: 20px;">
                <h3 style="margin-bottom: 15px;">Filters</h3>
                <div style="display: flex; gap: 15px;">
                    <div class="filter-group" style="flex: 1;">
                        <label for="date-range" style="display: block; margin-bottom: 5px;">Date Range</label>
                        <select id="date-range" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--gray);">
                            <option value="today">Today</option>
                            <option value="yesterday">Yesterday</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                        </select>
                    </div>
                    <div class="filter-group" style="flex: 1;">
                        <label for="category-filter" style="display: block; margin-bottom: 5px;">Category</label>
                        <select id="category-filter" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--gray);">
                            <option value="all">All Categories</option>
                            <option value="focus">Focus Work</option>
                            <option value="meetings">Meetings</option>
                            <option value="breaks">Breaks</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="history-summary" style="margin-bottom: 30px;">
                <h3 style="margin-bottom: 15px;">Summary</h3>
                <div style="display: flex; gap: 20px;">
                    <div class="summary-card" style="flex: 1; background-color: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <h4 style="margin-bottom: 10px; font-size: 16px;">Total Time</h4>
                        <div style="font-size: 24px; font-weight: 600;" id="summary-total-time">0h 0m</div>
                    </div>
                    <div class="summary-card" style="flex: 1; background-color: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <h4 style="margin-bottom: 10px; font-size: 16px;">Activities</h4>
                        <div style="font-size: 24px; font-weight: 600;" id="summary-activities-count">0</div>
                    </div>
                    <div class="summary-card" style="flex: 1; background-color: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <h4 style="margin-bottom: 10px; font-size: 16px;">Most Common Activity</h4>
                        <div style="font-size: 18px; font-weight: 500;" id="most-common-activity">None</div>
                    </div>
                </div>
            </div>
            
            <div class="activity-history-list">
                <h3 style="margin-bottom: 15px;">Activity Log</h3>
                <div class="empty-state" style="text-align: center; padding: 30px; color: var(--gray-dark);" id="empty-history">
                    No activity history to display.
                </div>
                <div id="history-list" style="display: none;"></div>
            </div>
        </div>
    </div>

    <!-- Calendar Section -->
    <div id="calendar-section" class="tab-content" style="display: none; width: 100%;">
        <!-- Calendar content will be dynamically loaded by the CalendarManager -->
    </div>

    <!-- Settings Modal -->
    <div id="settings-section" class="tab-content" style="display: none;">
        <div class="header">
            <div class="date">
                Settings
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>Active</span>
                </div>
            </div>
        </div>
        
        <div class="card" style="margin-bottom: 20px;">
            <div class="card-header">
                <div class="section-title">General Settings</div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <div class="event-form-group">
                    <label class="event-form-label">Display Name</label>
                    <input type="text" class="event-form-input" id="settings-display-name" placeholder="Your Name" value="John Doe">
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Email</label>
                    <input type="email" class="event-form-input" id="settings-email" placeholder="Your Email" value="john.doe@example.com">
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Language</label>
                    <select class="event-form-select" id="settings-language">
                        <option value="en">English</option>
                        <option value="fr">French</option>
                        <option value="es">Spanish</option>
                        <option value="de">German</option>
                    </select>
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Time Zone</label>
                    <select class="event-form-select" id="settings-timezone">
                        <option value="utc">UTC</option>
                        <option value="est" selected>Eastern Standard Time</option>
                        <option value="cst">Central Standard Time</option>
                        <option value="mst">Mountain Standard Time</option>
                        <option value="pst">Pacific Standard Time</option>
                    </select>
                </div>
            </div>
            
            <div style="text-align: right;">
                <button class="calendar-new-btn" id="save-settings-btn">
                    Save Settings
                </button>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <div class="section-title">Appearance</div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <div class="event-form-group">
                    <label class="event-form-label">Theme</label>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <div>
                            <input type="radio" id="light-theme" name="theme" value="light" checked>
                            <label for="light-theme" style="margin-left: 5px;">Light</label>
                        </div>
                        <div>
                            <input type="radio" id="dark-theme" name="theme" value="dark">
                            <label for="dark-theme" style="margin-left: 5px;">Dark</label>
                        </div>
                        <div>
                            <input type="radio" id="auto-theme" name="theme" value="auto">
                            <label for="auto-theme" style="margin-left: 5px;">System Default</label>
                        </div>
                    </div>
                </div>
                
                <div class="event-form-group">
                    <label class="event-form-label">Font Size</label>
                    <div style="display: flex; gap: 20px; margin-top: 10px;">
                        <div>
                            <input type="radio" id="small-font" name="font-size" value="small">
                            <label for="small-font" style="margin-left: 5px;">Small</label>
                        </div>
                        <div>
                            <input type="radio" id="medium-font" name="font-size" value="medium" checked>
                            <label for="medium-font" style="margin-left: 5px;">Medium</label>
                        </div>
                        <div>
                            <input type="radio" id="large-font" name="font-size" value="large">
                            <label for="large-font" style="margin-left: 5px;">Large</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: right;">
                <button class="calendar-new-btn" id="save-appearance-btn">
                    Save Appearance
                </button>
            </div>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div id="dashboard-section" class="tab-content" style="display: none; width: 100%;">
        <div class="header">
            <div class="date">
                Wednesday, September 8, 2023
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>Tracking: Active</span>
                </div>
            </div>
            <div class="view-controls-wrapper" style="display: flex; align-items: center;">
                <div class="view-controls">
                    <div class="view-control active">Day</div>
                    <div class="view-control">Week</div>
                    <div class="view-control">Month</div>
                </div>
                <button class="today-btn">Today</button>
            </div>
        </div>

        <div class="timeline-section">
            <div class="section-title">Timeline</div>
            
            <div class="timeline-container" style="background-color: white; border-radius: 12px; padding: 10px; margin-bottom: 20px;">
                <div class="timeline-grid" style="display: grid; grid-template-columns: repeat(12, 1fr); position: relative; height: 100px;">
                    <!-- Hour labels -->
                    <div style="position: absolute; top: -25px; left: 0;">9:00</div>
                    <div style="position: absolute; top: -25px; left: 8.33%;">10:00</div>
                    <div style="position: absolute; top: -25px; left: 16.67%;">11:00</div>
                    <div style="position: absolute; top: -25px; left: 25%;">12:00</div>
                    <div style="position: absolute; top: -25px; left: 33.33%;">13:00</div>
                    <div style="position: absolute; top: -25px; left: 41.67%;">14:00</div>
                    <div style="position: absolute; top: -25px; left: 50%;">15:00</div>
                    <div style="position: absolute; top: -25px; left: 58.33%;">16:00</div>
                    <div style="position: absolute; top: -25px; left: 66.67%;">17:00</div>
                    <div style="position: absolute; top: -25px; left: 75%;">18:00</div>
                    <div style="position: absolute; top: -25px; left: 83.33%;">19:00</div>
                    <div style="position: absolute; top: -25px; left: 91.67%;">20:00</div>
                    
                    <!-- Timeline blocks -->
                    <div style="position: absolute; left: 0; width: 8.33%; height: 80px; background-color: #333; top: 10px;"></div>
                    <div style="position: absolute; left: 12.5%; width: 10.42%; height: 80px; background-color: #333; top: 10px;"></div>
                    <div style="position: absolute; left: 25%; width: 10.42%; height: 80px; background-color: #333; top: 10px;"></div>
                    <div style="position: absolute; left: 50%; width: 8.33%; height: 80px; background-color: #333; top: 10px;"></div>
                    <div style="position: absolute; left: 60.42%; width: 9.37%; height: 80px; background-color: #333; top: 10px;"></div>
                    
                    <!-- Timeline color indicators -->
                    <div style="position: absolute; bottom: 0; left: 0; height: 5px; width: 8.33%; background-color: #4a6ee0;"></div>
                    <div style="position: absolute; bottom: 0; left: 12.5%; height: 5px; width: 10.42%; background-color: #a29bfe;"></div>
                    <div style="position: absolute; bottom: 0; left: 25%; height: 5px; width: 10.42%; background-color: #a29bfe;"></div>
                    <div style="position: absolute; bottom: 0; left: 50%; height: 5px; width: 8.33%; background-color: #4a6ee0;"></div>
                    <div style="position: absolute; bottom: 0; left: 60.42%; height: 5px; width: 9.37%; background-color: #e84393;"></div>
                    
                    <!-- Current time indicator -->
                    <div style="position: absolute; left: 75%; height: 80px; border-left: 2px solid #FF5757; top: 10px;">
                        <div style="position: absolute; left: -20px; top: -10px; background-color: #FF5757; color: white; font-size: 12px; padding: 2px 5px; border-radius: 4px;">19:41</div>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px;">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <!-- Projects & Tasks section -->
                <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <div class="section-title" style="margin: 0;">Projects & tasks</div>
                        <div>⋯</div>
                    </div>
                    
                    <!-- Project Item -->
                    <div style="margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #a29bfe; border-radius: 2px; margin-right: 6px;"></span>Finwall app</div>
                            <div>49%</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px; margin-bottom: 10px;">
                            <div style="height: 100%; width: 49%; background-color: #a29bfe; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72; text-align: right;">3 hr 26 min</div>
                        
                        <!-- Tasks -->
                        <div style="margin-top: 10px;">
                            <div style="display: flex; align-items: center; margin-bottom: 8px;">
                                <input type="checkbox" style="margin-right: 8px;">
                                <div>DS12 - Dark version</div>
                                <div style="margin-left: auto; font-size: 12px; color: #636E72;">1 hr 51 min</div>
                            </div>
                            <div style="display: flex; align-items: center; margin-bottom: 8px;">
                                <input type="checkbox" checked style="margin-right: 8px;">
                                <div style="text-decoration: line-through; color: #636E72;">DS42 - Settings section</div>
                                <div style="margin-left: auto; font-size: 12px; color: #636E72;">55 min</div>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" style="margin-right: 8px;">
                                <div>System update</div>
                                <div style="margin-left: auto; font-size: 12px; color: #636E72;">40 min</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- More Projects (simplified for brevity) -->
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #4a6ee0; border-radius: 2px; margin-right: 6px;"></span>Finwall website</div>
                            <div>32%</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 32%; background-color: #4a6ee0; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72; text-align: right;">1 hr 47 min</div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #636E72; border-radius: 2px; margin-right: 6px;"></span>X Terminal</div>
                            <div>14%</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 14%; background-color: #636E72; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72; text-align: right;">46 min</div>
                    </div>
                    
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div><span style="display: inline-block; width: 10px; height: 10px; background-color: #00B894; border-radius: 2px; margin-right: 6px;"></span>Li.Fi</div>
                            <div>5%</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 5%; background-color: #00B894; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72; text-align: right;">19 min</div>
                    </div>
                </div>
                
                <!-- Apps & Websites section -->
                <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <div class="section-title" style="margin: 0;">Apps & Websites</div>
                        <div>⋯</div>
                    </div>
                    
                    <!-- App Items -->
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div>47%</div>
                            <div>Figma</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 47%; background-color: #4a6ee0; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72;">2 hr 58 min</div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div>12%</div>
                            <div>Adobe Photoshop</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 12%; background-color: #4a6ee0; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72;">46 min</div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div>12%</div>
                            <div>zoom.us</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 12%; background-color: #4a6ee0; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72;">45 min</div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div>7%</div>
                            <div>Slack</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 7%; background-color: #4a6ee0; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72;">26 min</div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div>6%</div>
                            <div>pinterest.com</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 6%; background-color: #4a6ee0; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72;">23 min</div>
                    </div>
                    
                    <!-- More Items -->
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <div>22%</div>
                            <div>Other</div>
                        </div>
                        <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                            <div style="height: 100%; width: 22%; background-color: #636E72; border-radius: 3px;"></div>
                        </div>
                        <div style="font-size: 12px; color: #636E72;">1 hr 23 min</div>
                    </div>
                </div>
            </div>
            
            <!-- Right column with Daily Summary -->
            <div>
                <!-- Daily Summary -->
                <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 20px;">
                    <div class="section-title" style="margin-bottom: 20px;">Daily Summary</div>
                    
                    <div style="margin-bottom: 20px; line-height: 1.5;">
                        <span style="display: inline-block; background-color: #f3f3f3; width: 20px; height: 20px; border-radius: 4px; text-align: center; margin-right: 5px;">⚡</span>
                        Today you had <span style="font-weight: 600; color: #4a6ee0;">20%</span> more meetings than usual, you closed <span style="font-weight: 600; color: #4a6ee0;">2 tasks</span> on two projects, but the focus was <span style="font-weight: 600; color: #4a6ee0;">12%</span> lower than yesterday.
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="color: #636E72; font-size: 14px; margin-bottom: 5px;">Total time worked</div>
                        <div style="font-size: 24px; font-weight: 600;">6 hr 18 min</div>
                    </div>
                    
                    <div>
                        <div style="color: #636E72; font-size: 14px; margin-bottom: 5px;">Percent of work day</div>
                        <div style="display: flex; align-items: center;">
                            <div style="font-size: 24px; font-weight: 600; margin-right: 10px;">79%</div>
                            <div style="color: #636E72; font-size: 12px;">of 8 hr 0 min</div>
                        </div>
                    </div>
                </div>
                
                <!-- Activity Distribution -->
                <div class="card" style="background-color: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Chart Circles -->
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div style="position: relative; width: 100px; height: 100px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 10px;">
                                <div style="position: absolute; top: 0; left: 0; width: 100px; height: 100px; border-radius: 50%; background: conic-gradient(#4a6ee0 0% 62%, #e84393 62% 77%, #FDCB6E 77% 88%, #636E72 88% 100%);"></div>
                                <div style="position: absolute; top: 15px; left: 15px; width: 70px; height: 70px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 600;">62%</div>
                            </div>
                            <div>Focus</div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <!-- Other Category Circles -->
                            <div style="display: flex; flex-direction: column; align-items: center;">
                                <div style="position: relative; width: 50px; height: 50px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 5px;">
                                    <div style="position: absolute; top: 0; left: 0; width: 50px; height: 50px; border-radius: 50%; background-color: #e84393;"></div>
                                    <div style="position: absolute; top: 5px; left: 5px; width: 40px; height: 40px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600;">15%</div>
                                </div>
                                <div style="font-size: 12px;">Meetings</div>
                            </div>
                            
                            <div style="display: flex; flex-direction: column; align-items: center;">
                                <div style="position: relative; width: 50px; height: 50px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 5px;">
                                    <div style="position: absolute; top: 0; left: 0; width: 50px; height: 50px; border-radius: 50%; background-color: #FDCB6E;"></div>
                                    <div style="position: absolute; top: 5px; left: 5px; width: 40px; height: 40px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600;">11%</div>
                                </div>
                                <div style="font-size: 12px;">Breaks</div>
                            </div>
                            
                            <div style="display: flex; flex-direction: column; align-items: center;">
                                <div style="position: relative; width: 50px; height: 50px; border-radius: 50%; background-color: #f3f3f3; margin-bottom: 5px;">
                                    <div style="position: absolute; top: 0; left: 0; width: 50px; height: 50px; border-radius: 50%; background-color: #636E72;"></div>
                                    <div style="position: absolute; top: 5px; left: 5px; width: 40px; height: 40px; border-radius: 50%; background-color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600;">12%</div>
                                </div>
                                <div style="font-size: 12px;">Other</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Top Categories -->
                    <div style="margin-top: 20px;">
                        <div style="color: #636E72; font-size: 14px; margin-bottom: 10px;">Top categories</div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>59%</div>
                                <div>Design</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 59%; background-color: #4a6ee0; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72; text-align: right;">3 hr 44 min</div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>12%</div>
                                <div>Video Conference</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 12%; background-color: #e84393; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72; text-align: right;">45 min</div>
                        </div>
                        
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <div>10%</div>
                                <div>Work Messaging</div>
                            </div>
                            <div style="height: 6px; background-color: #f0f0f0; border-radius: 3px;">
                                <div style="height: 100%; width: 10%; background-color: #00B894; border-radius: 3px;"></div>
                            </div>
                            <div style="font-size: 12px; color: #636E72; text-align: right;">37 min</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div>

  <script>
        // Task checkbox functionality
        document.querySelectorAll('.task-checkbox').forEach(checkbox => {
            checkbox.addEventListener('click', function() {
                this.classList.toggle('checked');
                const taskName = this.nextElementSibling;
                if (this.classList.contains('checked')) {
                    taskName.style.textDecoration = 'line-through';
                    taskName.style.opacity = '0.6';
                } else {
                    taskName.style.textDecoration = 'none';
                    taskName.style.opacity = '1';
                }
            });
        });

        // View controls functionality
        document.querySelectorAll('.view-control').forEach(control => {
            control.addEventListener('click', function() {
                document.querySelector('.view-control.active').classList.remove('active');
                this.classList.add('active');
            });
        });

        // Add task button functionality
        document.querySelector('.add-task-btn').addEventListener('click', function() {
            const taskList = document.querySelector('.task-list');
            const priorities = ['high', 'medium', 'low'];
            const priority = priorities[Math.floor(Math.random() * priorities.length)];
            
            const newTask = document.createElement('div');
            newTask.className = 'task-item';
            newTask.innerHTML = `
                <div class="task-priority ${priority}"></div>
                <div class="task-checkbox"></div>
                <div class="task-name">New task</div>
            `;
            
            taskList.appendChild(newTask);
            
            // Add click event to the new checkbox
            const newCheckbox = newTask.querySelector('.task-checkbox');
            newCheckbox.addEventListener('click', function() {
                this.classList.toggle('checked');
                const taskName = this.nextElementSibling;
                if (this.classList.contains('checked')) {
                    taskName.style.textDecoration = 'line-through';
                    taskName.style.opacity = '0.6';
          } else {
                    taskName.style.textDecoration = 'none';
                    taskName.style.opacity = '1';
                }
            });
        });

        // Add app button functionality
        document.querySelector('.add-app-btn').addEventListener('click', function() {
            const appList = document.querySelector('.app-list');
            const apps = ['N', 'C', 'G', 'D'];
            const appIcon = apps[Math.floor(Math.random() * apps.length)];
            const appNames = {
                'N': 'Notion',
                'C': 'Chrome',
                'G': 'Gmail',
                'D': 'Dropbox'
            };
            
            const newApp = document.createElement('div');
            newApp.className = 'app-item';
            newApp.innerHTML = `
                <div class="app-icon">${appIcon}</div>
                <div class="app-name">${appNames[appIcon]}</div>
            `;
            
            appList.appendChild(newApp);
        });

        // YouTube Manager Functionality
        class YouTubeManager {
            constructor() {
                this.links = [];
                this.categories = ['Uncategorized'];
                this.activeCategory = 'all';
                this.loadData();
                this.setupEventListeners();
            }

            // Load links and categories from localStorage
            loadData() {
                try {
                    const savedLinks = JSON.parse(localStorage.getItem('youtube-links')) || [];
                    this.links = savedLinks;
                    
                    const savedCategories = JSON.parse(localStorage.getItem('youtube-categories')) || ['Uncategorized'];
                    this.categories = savedCategories;
                    
                    this.renderCategories();
                    this.updateCategorySelect();
                    this.renderLinks();
                } catch (error) {
                    console.error('Error loading YouTube data:', error);
                    this.links = [];
                    this.categories = ['Uncategorized'];
                }
            }

            // Save links to localStorage
            saveLinks() {
                localStorage.setItem('youtube-links', JSON.stringify(this.links));
            }
            
            // Save categories to localStorage
            saveCategories() {
                localStorage.setItem('youtube-categories', JSON.stringify(this.categories));
            }

            // Is valid YouTube URL
            isValidYouTubeUrl(url) {
                const pattern = /^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})$/;
                return pattern.test(url);
            }

            // Extract Video ID from URL
            extractVideoId(url) {
                const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
                const match = url.match(regExp);
                return (match && match[2].length === 11) ? match[2] : null;
            }

            // Add a new YouTube link
            addLink(url, category) {
                if (!url) {
                    this.showError('Please enter a YouTube URL');
                    return;
                }

                if (!this.isValidYouTubeUrl(url)) {
                    this.showError('Please enter a valid YouTube URL');
                    return;
                }
                
                if (!category) {
                    this.showError('Please select a category');
                    return;
                }

                const videoId = this.extractVideoId(url);
                
                if (!videoId) {
                    this.showError('Could not extract video ID from URL');
                    return;
                }

                const newLink = {
                    id: Date.now().toString(),
                    url: url,
                    videoId: videoId,
                    title: `YouTube Video ${this.links.length + 1}`,
                    category: category,
                    createdAt: new Date().toISOString()
                };

                this.links.push(newLink);
                this.saveLinks();
                this.renderLinks();
                this.clearInput();
                this.showSuccess('YouTube link added successfully');
            }

            // Delete a YouTube link
            deleteLink(id) {
                this.links = this.links.filter(link => link.id !== id);
                this.saveLinks();
                this.renderLinks();
            }
            
            // Add a new category
            addCategory(categoryName) {
                if (!categoryName) {
                    this.showError('Please enter a category name');
                    return;
                }
                
                categoryName = categoryName.trim();
                
                if (this.categories.includes(categoryName)) {
                    this.showError('Category already exists');
                    return;
                }
                
                this.categories.push(categoryName);
                this.saveCategories();
                this.renderCategories();
                this.updateCategorySelect();
                document.getElementById('category-input').value = '';
                this.showSuccess(`Category "${categoryName}" added successfully`);
            }
            
            // Filter links by category
            filterByCategory(category) {
                this.activeCategory = category;
                this.renderLinks();
                
                // Update active category in UI
                document.querySelectorAll('.category-tag').forEach(tag => {
                    tag.classList.remove('active');
                });
                document.querySelector(`.category-tag[data-category="${category}"]`).classList.add('active');
                
                // Update filter label
                const filterLabel = document.getElementById('active-filter');
                if (category === 'all') {
                    filterLabel.textContent = 'All Videos';
                } else {
                    filterLabel.textContent = `Category: ${category}`;
                }
            }
            
            // Render categories in the UI
            renderCategories() {
                const categoriesContainer = document.getElementById('categories-container');
                if (!categoriesContainer) return;
                
                // Keep the "All" category
                categoriesContainer.innerHTML = '<div class="category-tag active" data-category="all">All</div>';
                
                // Add each category
                this.categories.forEach(category => {
                    const categoryTag = document.createElement('div');
                    categoryTag.className = 'category-tag';
                    categoryTag.setAttribute('data-category', category);
                    categoryTag.textContent = category;
                    categoriesContainer.appendChild(categoryTag);
                });
                
                // Add event listeners to category tags
                document.querySelectorAll('.category-tag').forEach(tag => {
                    tag.addEventListener('click', () => {
                        const category = tag.getAttribute('data-category');
                        this.filterByCategory(category);
                    });
                });
            }
            
            // Update category select dropdown
            updateCategorySelect() {
                const categorySelect = document.getElementById('video-category-select');
                if (!categorySelect) return;
                
                // Clear existing options except the first one
                while (categorySelect.options.length > 1) {
                    categorySelect.remove(1);
                }
                
                // Add each category as an option
                this.categories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category;
                    option.textContent = category;
                    categorySelect.appendChild(option);
                });
            }

            // Render the list of links
            renderLinks() {
                const youtubeContainer = document.getElementById('youtube-links-container');
                if (!youtubeContainer) return;

                youtubeContainer.innerHTML = '';
                
                // Filter links by category if needed
                let filteredLinks = this.links;
                if (this.activeCategory !== 'all') {
                    filteredLinks = this.links.filter(link => link.category === this.activeCategory);
                }
                
                // Update video count
                const videoCount = document.getElementById('video-count');
                if (videoCount) {
                    videoCount.textContent = `${filteredLinks.length} video${filteredLinks.length !== 1 ? 's' : ''}`;
                }
                
                if (filteredLinks.length === 0) {
                    youtubeContainer.innerHTML = `
                        <div class="empty-message">
                            ${this.activeCategory === 'all' ? 
                                'No YouTube links added yet. Add your first link above.' : 
                                `No videos in the "${this.activeCategory}" category. Add videos or select a different category.`}
                        </div>
                    `;
                    return;
                }

                const grid = document.createElement('div');
                grid.className = 'youtube-grid';
                
                filteredLinks.forEach(link => {
                    const card = document.createElement('div');
                    card.className = 'youtube-card';
                    card.innerHTML = `
                        <div class="youtube-thumbnail">
                            <img src="https://img.youtube.com/vi/${link.videoId}/mqdefault.jpg" alt="${link.title}">
                        </div>
                        <div class="youtube-content">
                            <div class="youtube-title">${link.title}</div>
                            <div class="youtube-url">${link.url}</div>
                            <div class="category-badge">${link.category}</div>
                        </div>
                        <div class="youtube-actions">
                            <button class="youtube-open-btn" data-url="${link.url}">Open</button>
                            <button class="youtube-delete-btn" data-id="${link.id}">Delete</button>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                
                youtubeContainer.appendChild(grid);
                
                // Add event listeners to the buttons
                document.querySelectorAll('.youtube-open-btn').forEach(btn => {
                    btn.addEventListener('click', e => {
                        window.open(e.target.dataset.url, '_blank');
                    });
                });
                
                document.querySelectorAll('.youtube-delete-btn').forEach(btn => {
                    btn.addEventListener('click', e => {
                        this.deleteLink(e.target.dataset.id);
                    });
                });
            }

            // Show error message
            showError(message) {
                const errorElement = document.getElementById('youtube-error');
                if (errorElement) {
                    errorElement.textContent = message;
                    errorElement.style.display = 'block';
                    setTimeout(() => {
                        errorElement.style.display = 'none';
                    }, 3000);
                }
            }

            // Show success message
            showSuccess(message) {
                const successElement = document.getElementById('youtube-success');
                if (successElement) {
                    successElement.textContent = message;
                    successElement.style.display = 'block';
                    setTimeout(() => {
                        successElement.style.display = 'none';
                    }, 3000);
                }
            }

            // Clear input field
            clearInput() {
                const input = document.getElementById('youtube-url-input');
                if (input) {
                    input.value = '';
                }
                
                const categorySelect = document.getElementById('video-category-select');
                if (categorySelect) {
                    categorySelect.selectedIndex = 0;
                }
            }

            // Setup event listeners
            setupEventListeners() {
                const addBtn = document.getElementById('youtube-add-btn');
                const input = document.getElementById('youtube-url-input');
                const categorySelect = document.getElementById('video-category-select');
                const manageCategoriesBtn = document.getElementById('manage-categories-btn');
                const addCategoryBtn = document.getElementById('add-category-btn');
                const categoryInput = document.getElementById('category-input');
                const categoryInputGroup = document.getElementById('category-input-group');
                
                if (addBtn) {
                    addBtn.addEventListener('click', () => {
                        const url = input.value.trim();
                        const category = categorySelect.value;
                        this.addLink(url, category);
                    });
                }
                
                if (input) {
                    input.addEventListener('keypress', e => {
                        if (e.key === 'Enter') {
                            const url = e.target.value.trim();
                            const category = categorySelect.value;
                            this.addLink(url, category);
                        }
                    });
                }
                
                if (manageCategoriesBtn) {
                    manageCategoriesBtn.addEventListener('click', () => {
                        const isVisible = categoryInputGroup.style.display !== 'none';
                        categoryInputGroup.style.display = isVisible ? 'none' : 'flex';
                        manageCategoriesBtn.textContent = isVisible ? 'Manage Categories' : 'Hide';
                    });
                }
                
                if (addCategoryBtn && categoryInput) {
                    addCategoryBtn.addEventListener('click', () => {
                        const category = categoryInput.value.trim();
                        this.addCategory(category);
                    });
                    
                    categoryInput.addEventListener('keypress', e => {
                        if (e.key === 'Enter') {
                            const category = e.target.value.trim();
                            this.addCategory(category);
                        }
                    });
                }
            }
        }

        // Initialize the YouTubeManager when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            const youtubeManager = new YouTubeManager();
            
            // Initialize dark mode based on localStorage
            const themeToggle = document.getElementById('theme-toggle');
            const darkThemeRadio = document.getElementById('dark-theme');
            const lightThemeRadio = document.getElementById('light-theme');
            
            if (themeToggle) {
                const darkMode = localStorage.getItem('darkMode');
                if (darkMode === 'enabled') {
                    document.body.classList.add('dark-theme');
                    themeToggle.checked = true;
                    if (darkThemeRadio) darkThemeRadio.checked = true;
                } else {
                    document.body.classList.remove('dark-theme');
                    themeToggle.checked = false;
                    if (lightThemeRadio) lightThemeRadio.checked = true;
                }
                
                // Add event listener for dark mode toggle
                themeToggle.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('dark-theme');
                        localStorage.setItem('darkMode', 'enabled');
                        if (darkThemeRadio) darkThemeRadio.checked = true;
                    } else {
                        document.body.classList.remove('dark-theme');
                        localStorage.setItem('darkMode', 'disabled');
                        if (lightThemeRadio) lightThemeRadio.checked = true;
                    }
                });
            }
            
            // Add tab switching functionality
            const tabs = document.querySelectorAll('.main-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Hide all sections
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.style.display = 'none';
                    });
                    
                    // Hide or show dashboard content based on which tab is selected
                    const dashboardContent = document.getElementById('dashboard-content');
                    if (dashboardContent) {
                        if (tab.getAttribute('data-target') === 'dashboard-section') {
                            dashboardContent.style.display = 'block';
                        } else {
                            dashboardContent.style.display = 'none';
                        }
                    }
                    
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active-tab'));
                    
                    // Add active class to clicked tab
                    tab.classList.add('active-tab');
                    
                    // Show corresponding section
                    const targetId = tab.getAttribute('data-target');
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.style.display = 'block';
                    }
                });
            });
            
            // Show dashboard by default
            document.getElementById('projects-section').style.display = 'block';
            document.querySelector('[data-target="projects-section"]').classList.add('active-tab');
            
            // Settings event listeners
            const saveSettingsBtn = document.getElementById('save-settings-btn');
            const saveAppearanceBtn = document.getElementById('save-appearance-btn');
            
            if (saveSettingsBtn) {
                saveSettingsBtn.addEventListener('click', function() {
                    alert('Settings saved successfully!');
                });
            }
            
            if (saveAppearanceBtn) {
                saveAppearanceBtn.addEventListener('click', function() {
                    alert('Appearance settings saved successfully!');
                    
                    // Apply theme based on selection
                    const themeSelection = document.querySelector('input[name="theme"]:checked').value;
                    
                    if (themeSelection === 'dark') {
                        themeToggle.checked = true;
                        document.body.classList.add('dark-theme');
                        localStorage.setItem('darkMode', 'enabled');
                    } else if (themeSelection === 'light') {
                        themeToggle.checked = false;
                        document.body.classList.remove('dark-theme');
                        localStorage.setItem('darkMode', 'disabled');
                    }
                });
            }
            
            // Theme sync between settings and toggle - handled in the initialization above
        });

        // Projects and Tasks Manager
        class ProjectsManager {
            constructor() {
                this.projects = [];
                this.tasks = [];
                this.activeView = 'list'; // list, kanban, calendar
                this.activeProjectId = 'all';
                this.loadData();
                this.setupEventListeners();
                this.renderProjects();
                this.renderTasks();
                this.updateTaskCounts();
                this.updateProjectSelect();
            }
            
            // Load data from localStorage
            loadData() {
                try {
                    const savedProjects = JSON.parse(localStorage.getItem('projects')) || [];
                    const savedTasks = JSON.parse(localStorage.getItem('tasks')) || [];
                    
                    this.projects = savedProjects;
                    this.tasks = savedTasks;
                    
                    this.renderProjects();
                    this.renderTasks();
                    this.updateTaskCounts();
                    this.updateProjectSelect();
                } catch (error) {
                    console.error('Error loading projects/tasks data:', error);
                    this.projects = [];
                    this.tasks = [];
                }
            }
            
            // Save projects to localStorage
            saveProjects() {
                localStorage.setItem('projects', JSON.stringify(this.projects));
            }
            
            // Save tasks to localStorage
            saveTasks() {
                localStorage.setItem('tasks', JSON.stringify(this.tasks));
            }
            
            // Add a new project
            addProject(name, color, description = '') {
                if (!name) {
                    alert('Please enter a project name');
                    return;
                }
                
                const newProject = {
                    id: Date.now().toString(),
                    name: name,
                    color: color || 'var(--primary)',
                    description: description,
                    createdAt: new Date().toISOString()
                };
                
                this.projects.push(newProject);
                this.saveProjects();
                this.renderProjects();
                this.updateProjectSelect();
                this.closeProjectModal();
            }
            
            // Delete a project
            deleteProject(id) {
                // Ask for confirmation
                if (!confirm('Are you sure you want to delete this project? All associated tasks will also be deleted.')) {
                    return;
                }
                
                // Remove the project
                this.projects = this.projects.filter(project => project.id !== id);
                
                // Remove all tasks associated with this project
                this.tasks = this.tasks.filter(task => task.projectId !== id);
                
                this.saveProjects();
                this.saveTasks();
                
                // If the active project is the one being deleted, switch to 'all'
                if (this.activeProjectId === id) {
                    this.switchProject('all');
                } else {
                    this.renderProjects();
                    this.renderTasks();
                    this.updateTaskCounts();
                }
                
                this.updateProjectSelect();
            }
            
            // Add a new task
            addTask(title, projectId, dueDate = null, priority = 'medium', notes = '', startTime = null, duration = 60) {
                if (!title) {
                    alert('Please enter a task title');
                    return;
                }
                
                const newTask = {
                    id: Date.now().toString(),
                    title: title,
                    projectId: projectId || 'none',
                    dueDate: dueDate,
                    priority: priority,
                    notes: notes,
                    startTime: startTime,
                    duration: duration, // in minutes
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                
                this.tasks.push(newTask);
                this.saveTasks();
                this.renderTasks();
                this.updateTaskCounts();
                this.updateProgress();
                this.closeTaskModal();
            }
            
            // Quick add task from input field
            quickAddTask(title) {
                if (!title) {
                    return;
                }
                
                const newTask = {
                    id: Date.now().toString(),
                    title: title,
                    projectId: this.activeProjectId === 'all' || this.activeProjectId === 'today' || this.activeProjectId === 'upcoming' ? 'none' : this.activeProjectId,
                    dueDate: null,
                    priority: 'medium',
                    notes: '',
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                
                this.tasks.push(newTask);
                this.saveTasks();
                this.renderTasks();
                this.updateTaskCounts();
                this.updateProgress();
                
                // Clear the input
                document.getElementById('new-task-input').value = '';
            }
            
            // Mark task as complete/incomplete
            toggleTaskComplete(id) {
                this.tasks = this.tasks.map(task => 
                    task.id === id ? { ...task, completed: !task.completed } : task
                );
                
                this.saveTasks();
                this.renderTasks();
                this.updateTaskCounts();
                this.updateProgress();
            }
            
            // Delete a task
            deleteTask(id) {
                this.tasks = this.tasks.filter(task => task.id !== id);
                this.saveTasks();
                this.renderTasks();
                this.updateTaskCounts();
                this.updateProgress();
            }
            
            // Edit a task
            editTask(id, title, projectId, dueDate, priority, notes, startTime, duration) {
                this.tasks = this.tasks.map(task => 
                    task.id === id ? { 
                        ...task, 
                        title, 
                        projectId, 
                        dueDate, 
                        priority, 
                        notes,
                        startTime,
                        duration
                    } : task
                );
                
                this.saveTasks();
                this.renderTasks();
                this.updateTaskCounts();
                this.closeTaskModal();
            }
            
            // Switch between projects
            switchProject(projectId) {
                this.activeProjectId = projectId;
                
                // Update UI to reflect current project
                document.querySelectorAll('.project-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                document.querySelector(`.project-item[data-project-id="${projectId}"]`).classList.add('active');
                
                // Update title
                if (projectId === 'all') {
                    document.getElementById('project-detail-title').textContent = 'All Tasks';
                } else if (projectId === 'today') {
                    document.getElementById('project-detail-title').textContent = 'Today';
                } else if (projectId === 'upcoming') {
                    document.getElementById('project-detail-title').textContent = 'Upcoming';
                } else {
                    const project = this.projects.find(p => p.id === projectId);
                    if (project) {
                        document.getElementById('project-detail-title').textContent = project.name;
                    }
                }
                
                this.renderTasks();
                this.updateProgress();
            }
            
            // Switch between views (list, kanban, calendar)
            switchView(view) {
                this.activeView = view;
                
                // Update UI to reflect current view
                document.querySelectorAll('[data-project-view]').forEach(item => {
                    item.classList.remove('active');
                });
                
                document.querySelector(`[data-project-view="${view}"]`).classList.add('active');
                
                this.renderTasks();
            }
            
            // Render the list of projects
            renderProjects() {
                const userProjectsList = document.getElementById('user-projects-list');
                if (!userProjectsList) return;
                
                userProjectsList.innerHTML = '';
                
                if (this.projects.length === 0) {
                    userProjectsList.innerHTML = `
                        <div style="text-align: center; padding: 20px; color: var(--gray-dark);">
                            No projects yet. Create your first project!
                        </div>
                    `;
                    return;
                }
                
                this.projects.forEach(project => {
                    const projectItem = document.createElement('div');
                    projectItem.className = 'project-item';
                    projectItem.setAttribute('data-project-id', project.id);
                    if (this.activeProjectId === project.id) {
                        projectItem.classList.add('active');
                    }
                    
                    projectItem.innerHTML = `
                        <div class="project-color" style="background-color: ${project.color};"></div>
                        <div class="project-name">${project.name}</div>
                        <div class="project-count">0</div>
                    `;
                    
                    userProjectsList.appendChild(projectItem);
                    
                    // Add event listener
                    projectItem.addEventListener('click', () => {
                        this.switchProject(project.id);
                    });
                });
            }
            
            // Update task counts for each project
            updateTaskCounts() {
                // Get all active (not completed) tasks
                const activeTasks = this.tasks.filter(task => !task.completed);
                
                // Count for All Tasks
                const allTasksCount = document.querySelector('.project-item[data-project-id="all"] .project-count');
                if (allTasksCount) {
                    allTasksCount.textContent = activeTasks.length;
                }
                
                // Count for Today
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                const todayTasks = activeTasks.filter(task => {
                    if (!task.dueDate) return false;
                    const dueDate = new Date(task.dueDate);
                    dueDate.setHours(0, 0, 0, 0);
                    return dueDate.getTime() === today.getTime();
                });
                
                const todayCount = document.querySelector('.project-item[data-project-id="today"] .project-count');
                if (todayCount) {
                    todayCount.textContent = todayTasks.length;
                }
                
                // Count for Upcoming
                const upcoming = new Date();
                upcoming.setHours(0, 0, 0, 0);
                upcoming.setDate(upcoming.getDate() + 1); // Start from tomorrow
                
                const upcomingTasks = activeTasks.filter(task => {
                    if (!task.dueDate) return false;
                    const dueDate = new Date(task.dueDate);
                    dueDate.setHours(0, 0, 0, 0);
                    return dueDate.getTime() > today.getTime();
                });
                
                const upcomingCount = document.querySelector('.project-item[data-project-id="upcoming"] .project-count');
                if (upcomingCount) {
                    upcomingCount.textContent = upcomingTasks.length;
                }
                
                // Count for each project
                this.projects.forEach(project => {
                    const projectTasks = activeTasks.filter(task => task.projectId === project.id);
                    const projectCount = document.querySelector(`.project-item[data-project-id="${project.id}"] .project-count`);
                    if (projectCount) {
                        projectCount.textContent = projectTasks.length;
                    }
                });
            }
            
            // Update project dropdown in task modal
            updateProjectSelect() {
                const projectSelect = document.getElementById('task-project-select');
                if (!projectSelect) return;
                
                // Clear existing options
                projectSelect.innerHTML = '';
                
                // Add "None" option
                const noneOption = document.createElement('option');
                noneOption.value = 'none';
                noneOption.textContent = 'None';
                projectSelect.appendChild(noneOption);
                
                // Add each project as an option
                this.projects.forEach(project => {
                    const option = document.createElement('option');
                    option.value = project.id;
                    option.textContent = project.name;
                    projectSelect.appendChild(option);
                });
            }
            
            // Get filtered tasks based on active project
            getFilteredTasks() {
                if (this.activeProjectId === 'all') {
                    return this.tasks;
                } else if (this.activeProjectId === 'today') {
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);
                    
                    return this.tasks.filter(task => {
                        if (!task.dueDate) return false;
                        const dueDate = new Date(task.dueDate);
                        dueDate.setHours(0, 0, 0, 0);
                        return dueDate.getTime() === today.getTime();
                    });
                } else if (this.activeProjectId === 'upcoming') {
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);
                    
                    return this.tasks.filter(task => {
                        if (!task.dueDate) return false;
                        const dueDate = new Date(task.dueDate);
                        dueDate.setHours(0, 0, 0, 0);
                        return dueDate.getTime() > today.getTime();
                    });
                } else {
                    return this.tasks.filter(task => task.projectId === this.activeProjectId);
                }
            }
            
            // Render tasks based on active view and project
            renderTasks() {
                const tasksContainer = document.getElementById('tasks-list-container');
                if (!tasksContainer) return;
                
                // Filter tasks based on active project
                let filteredTasks = [];
                
                if (this.activeProjectId === 'all') {
                    filteredTasks = [...this.tasks];
                } else if (this.activeProjectId === 'today') {
                    const today = new Date().toISOString().split('T')[0];
                    filteredTasks = this.tasks.filter(task => task.dueDate === today);
                } else if (this.activeProjectId === 'upcoming') {
                    const today = new Date().toISOString().split('T')[0];
                    filteredTasks = this.tasks.filter(task => task.dueDate > today);
                } else {
                    filteredTasks = this.tasks.filter(task => task.projectId === this.activeProjectId);
                }
                
                // Sort tasks by due date (if exists), then by creation date
                filteredTasks.sort((a, b) => {
                    if (a.dueDate && b.dueDate) {
                        return new Date(a.dueDate) - new Date(b.dueDate);
                    } else if (a.dueDate) {
                        return -1;
                    } else if (b.dueDate) {
                        return 1;
                    } else {
                        return new Date(a.createdAt) - new Date(b.createdAt);
                    }
                });
                
                if (filteredTasks.length === 0) {
                    tasksContainer.innerHTML = `
                        <div class="empty-state" style="text-align: center; padding: 50px 20px; color: var(--gray-dark);">
                            <p style="font-size: 18px; margin-bottom: 15px;">No tasks found</p>
                            <p>Create a new task to get started</p>
                        </div>
                    `;
                    return;
                }
                
                // Build the HTML for the tasks
                let tasksHTML = '';
                
                filteredTasks.forEach(task => {
                    // Find the project for this task
                    const project = this.projects.find(p => p.id === task.projectId) || { name: 'No Project', color: 'var(--gray)' };
                    
                    // Format the due date
                    let dueDateFormatted = '';
                    if (task.dueDate) {
                        const dueDate = new Date(task.dueDate);
                        dueDateFormatted = dueDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
                    }
                    
                    // Format the start time
                    let startTimeFormatted = '';
                    if (task.startTime) {
                        startTimeFormatted = task.startTime;
                    }
                    
                    // Format the duration
                    let durationFormatted = '';
                    if (task.duration) {
                        const hours = Math.floor(task.duration / 60);
                        const minutes = task.duration % 60;
                        durationFormatted = hours > 0 ? 
                            `${hours}h${minutes > 0 ? ` ${minutes}m` : ''}` : 
                            `${minutes}m`;
                    }
                    
                    tasksHTML += `
                        <div class="task-item ${task.completed ? 'task-completed' : ''}" data-task-id="${task.id}">
                            <div class="task-checkbox" onclick="event.stopPropagation();">
                                <input type="checkbox" id="task-${task.id}" ${task.completed ? 'checked' : ''}>
                                <label for="task-${task.id}"></label>
                            </div>
                            <div class="task-content">
                                <div class="task-title">${task.title}</div>
                                <div class="task-meta">
                                    <div class="task-project-tag" style="background-color: ${project.color};">${project.name}</div>
                                    ${task.dueDate ? `<div class="task-due-date"><span>📅</span> ${dueDateFormatted}</div>` : ''}
                                    ${task.startTime ? `<div class="task-start-time"><span>🕒</span> ${startTimeFormatted}</div>` : ''}
                                    ${task.duration ? `<div class="task-duration"><span>⏱️</span> ${durationFormatted}</div>` : ''}
                                    ${task.timeSpent ? `<div class="task-time-spent"><span>⌛</span> ${Math.floor(task.timeSpent / 60)}h ${task.timeSpent % 60}m spent</div>` : ''}
                                    <div class="task-priority">
                                        <div class="priority-indicator priority-${task.priority}"></div>
                                        ${task.priority.charAt(0).toUpperCase() + task.priority.slice(1)}
                                    </div>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="task-action-btn task-edit-btn">✏️</button>
                                <button class="task-action-btn task-delete-btn">🗑️</button>
                            </div>
                        </div>
                    `;
                });
                
                tasksContainer.innerHTML = tasksHTML;
                
                // Add event listeners to the checkboxes
                document.querySelectorAll('.task-checkbox input').forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const taskId = e.target.closest('.task-item').getAttribute('data-task-id');
                        this.toggleTaskComplete(taskId);
                    });
                });
                
                // Add event listeners to the task items
                document.querySelectorAll('.task-item').forEach(taskItem => {
                    taskItem.addEventListener('click', (e) => {
                        if (!e.target.closest('.task-checkbox') && !e.target.closest('.task-actions')) {
                            const taskId = taskItem.getAttribute('data-task-id');
                            this.openTaskModal('edit', taskId);
                        }
                    });
                });
                
                // Add event listeners to the edit buttons
                document.querySelectorAll('.task-edit-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const taskId = e.target.closest('.task-item').getAttribute('data-task-id');
                        this.openTaskModal('edit', taskId);
                    });
                });
                
                // Add event listeners to the delete buttons
                document.querySelectorAll('.task-delete-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const taskId = e.target.closest('.task-item').getAttribute('data-task-id');
                        if (confirm('Are you sure you want to delete this task?')) {
                            this.deleteTask(taskId);
                        }
                    });
                });
            }
            
            // Render kanban view
            renderKanbanView(container, tasks) {
                container.innerHTML = '';
                
                // Create kanban container
                const kanbanContainer = document.createElement('div');
                kanbanContainer.className = 'kanban-container';
                
                // Create new columns with more detailed structure
                const todoColumn = this.createKanbanColumn('To Do', tasks.filter(task => !task.completed && (!task.status || task.status === 'to-do')));
                const inProgressColumn = this.createKanbanColumn('In Progress', tasks.filter(task => 
                    !task.completed && task.status === 'in-progress'));
                const reviewColumn = this.createKanbanColumn('Review', tasks.filter(task => 
                    !task.completed && task.status === 'review'));
                const doneColumn = this.createKanbanColumn('Completed', tasks.filter(task => task.completed));
                
                kanbanContainer.appendChild(todoColumn);
                kanbanContainer.appendChild(inProgressColumn);
                kanbanContainer.appendChild(reviewColumn);
                kanbanContainer.appendChild(doneColumn);
                
                // Add style for drag operations
                const style = document.createElement('style');
                style.textContent = `
                    .task-item {
                        cursor: grab;
                        transition: transform 0.2s, box-shadow 0.2s;
                    }
                    .task-item:hover {
                        transform: translateY(-2px);
                        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                    }
                    .task-item.dragging {
                        opacity: 0.5;
                        cursor: grabbing;
                    }
                    .kanban-column-content.drop-target {
                        background-color: rgba(108, 92, 231, 0.1);
                        border: 2px dashed var(--primary);
                    }
                    .task-item-inner {
                        display: flex;
                        align-items: center;
                        width: 100%;
                    }
                    .task-content {
                        flex: 1;
                        margin: 0 10px;
                    }
                    .task-title {
                        font-weight: 500;
                        margin-bottom: 5px;
                    }
                    .task-details {
                        display: flex;
                        flex-wrap: wrap;
                        gap: 8px;
                        font-size: 12px;
                        color: var(--gray-dark);
                    }
                `;
                
                container.appendChild(style);
                container.appendChild(kanbanContainer);
                
                // Add a button to add new task
                const addTaskButton = document.createElement('button');
                addTaskButton.className = 'calendar-new-btn';
                addTaskButton.style.margin = '20px auto';
                addTaskButton.style.display = 'block';
                addTaskButton.innerHTML = '+ Add New Task';
                addTaskButton.addEventListener('click', () => {
                    this.showTaskModal();
                });
                
                container.appendChild(addTaskButton);
            }
            
            // Setup kanban task event listeners
            setupKanbanTaskEventListeners(taskItem, task) {
                // Edit button
                const editBtn = taskItem.querySelector('.task-edit-btn');
                if (editBtn) {
                    editBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.editTask(task.id);
                    });
                }
                
                // Delete button
                const deleteBtn = taskItem.querySelector('.task-delete-btn');
                if (deleteBtn) {
                    deleteBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        if (confirm('Are you sure you want to delete this task?')) {
                            this.deleteTask(task.id);
                        }
                    });
                }
                
                // Toggle complete on click
                taskItem.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('task-action-btn') && !e.target.closest('.task-action-btn')) {
                        this.toggleTaskComplete(task.id);
                    }
                });
                
                // Drag and drop functionality
                taskItem.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', task.id);
                    taskItem.classList.add('dragging');
                });
                
                taskItem.addEventListener('dragend', () => {
                    taskItem.classList.remove('dragging');
                });
            }
            
            // Setup dropzone for kanban columns
            setupDropzone(container) {
                container.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    container.classList.add('drop-target');
                });
                
                container.addEventListener('dragleave', () => {
                    container.classList.remove('drop-target');
                });
                
                container.addEventListener('drop', (e) => {
                    e.preventDefault();
                    container.classList.remove('drop-target');
                    
                    const taskId = e.dataTransfer.getData('text/plain');
                    if (!taskId) return;
                    
                    const targetColumn = container.getAttribute('data-column');
                    const task = this.tasks.find(t => t.id === taskId);
                    
                    if (task && targetColumn) {
                        // Update task status based on column
                        if (targetColumn === 'to-do') {
                            task.completed = false;
                            task.status = 'to-do';
                        } else if (targetColumn === 'in-progress') {
                            task.completed = false;
                            task.status = 'in-progress';
                        } else if (targetColumn === 'review') {
                            task.completed = false;
                            task.status = 'review';
                        } else if (targetColumn === 'completed') {
                            task.completed = true;
                        }
                        
                        this.saveTasks();
                        this.renderActiveView();
                    }
                });
            }
            
            // Update createKanbanColumn to support drag and drop
            createKanbanColumn(title, tasks) {
                const column = document.createElement('div');
                column.className = 'kanban-column';
                
                const columnId = title.toLowerCase().replace(/\s+/g, '-');
                
                column.innerHTML = `
                    <div class="kanban-column-header">
                        ${title}
                        <div class="kanban-count">${tasks.length}</div>
                    </div>
                    <div class="kanban-column-content" data-column="${columnId}"></div>
                `;
                
                const content = column.querySelector('.kanban-column-content');
                
                if (tasks.length === 0) {
                    content.innerHTML = `
                        <div style="text-align: center; padding: 20px; color: var(--gray-dark);">
                            No tasks in this column
                        </div>
                    `;
                } else {
                    tasks.forEach(task => {
                        const taskItem = document.createElement('div');
                        taskItem.className = 'task-item';
                        taskItem.setAttribute('data-task-id', task.id);
                        taskItem.setAttribute('draggable', 'true');
                        
                        // Get project color for task
                        let projectColor = 'var(--primary)';
                        if (task.projectId && task.projectId !== 'none') {
                            const project = this.projects.find(p => p.id === task.projectId);
                            if (project) {
                                projectColor = project.color;
                            }
                        }
                        
                        taskItem.innerHTML = `
                            <div class="task-item-inner">
                                <div class="task-checkbox ${task.completed ? 'checked' : ''}"></div>
                                <div class="task-content">
                                    <div class="task-title">${task.title}</div>
                                    <div class="task-details">
                                        ${task.projectId && task.projectId !== 'none' ? 
                                          `<div class="task-project-tag" style="background-color: ${projectColor};">
                                              ${this.getProjectName(task.projectId)}
                                           </div>` : ''}
                                        ${task.dueDate ? 
                                          `<div class="task-due-date">
                                              <span>📅</span> ${new Date(task.dueDate).toLocaleDateString()}
                                           </div>` : ''}
                                        <div class="task-priority">
                                            <div class="priority-indicator priority-${task.priority}"></div>
                                            ${task.priority.charAt(0).toUpperCase() + task.priority.slice(1)}
                                        </div>
                                    </div>
                                </div>
                                <div class="task-actions">
                                    <button class="task-action-btn task-edit-btn">✏️</button>
                                    <button class="task-action-btn task-delete-btn">🗑️</button>
                                </div>
                            </div>
                        `;
                        
                        content.appendChild(taskItem);
                        
                        // Set up event listeners for this task item
                        this.setupKanbanTaskEventListeners(taskItem, task);
                    });
                }
                
                // Make columns droppable
                this.setupDropzone(content);
                
                return column;
            }
            
            // Render calendar view
            renderCalendarView(container, tasks) {
                const today = new Date();
                const currentMonth = today.getMonth();
                const currentYear = today.getFullYear();
                
                container.innerHTML = `
                    <div class="project-calendar">
                        <div class="calendar-header" style="margin-bottom: 20px;">
                            <div class="calendar-nav">
                                <button id="prev-month-btn" class="calendar-nav-btn">❮</button>
                                <h3 id="current-month-display" style="margin: 0 15px; min-width: 150px; text-align: center;"></h3>
                                <button id="next-month-btn" class="calendar-nav-btn">❯</button>
                            </div>
                            <div class="calendar-view-selector">
                                <button id="month-view-btn" class="calendar-nav-btn active" style="border-radius: 4px; padding: 0 10px; width: auto;">Month</button>
                                <button id="week-view-btn" class="calendar-nav-btn" style="border-radius: 4px; padding: 0 10px; width: auto;">Week</button>
                            </div>
                        </div>
                        
                        <div id="calendar-view-container" class="calendar-grid-container">
                            <div id="month-view" class="calendar-grid"></div>
                            <div id="week-view" class="calendar-week-view" style="display: none;"></div>
                        </div>
                    </div>
                `;
                
                // Cache DOM elements
                const monthDisplay = document.getElementById('current-month-display');
                const monthView = document.getElementById('month-view');
                const weekView = document.getElementById('week-view');
                const prevMonthBtn = document.getElementById('prev-month-btn');
                const nextMonthBtn = document.getElementById('next-month-btn');
                const monthViewBtn = document.getElementById('month-view-btn');
                const weekViewBtn = document.getElementById('week-view-btn');
                
                let viewDate = new Date();
                let activeView = 'month';
                
                // Function to update the month display title
                const updateMonthDisplay = () => {
                    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 
                        'July', 'August', 'September', 'October', 'November', 'December'];
                    monthDisplay.textContent = `${monthNames[viewDate.getMonth()]} ${viewDate.getFullYear()}`;
                };
                
                // Render month view
                const renderMonthView = () => {
                    monthView.innerHTML = '';
                    
                    // Add day headers
                    const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                    dayNames.forEach(day => {
                        const dayHeader = document.createElement('div');
                        dayHeader.className = 'calendar-day-header';
                        dayHeader.innerHTML = `<div class="day-name">${day}</div>`;
                        monthView.appendChild(dayHeader);
                    });
                    
                    const year = viewDate.getFullYear();
                    const month = viewDate.getMonth();
                    
                    // Get first day of month and number of days
                    const firstDay = new Date(year, month, 1).getDay();
                    const daysInMonth = new Date(year, month + 1, 0).getDate();
                    
                    // Get last day of previous month
                    const lastMonthDays = new Date(year, month, 0).getDate();
                    
                    // Add days from previous month
                    for (let i = 0; i < firstDay; i++) {
                        const previousMonthDay = lastMonthDays - firstDay + i + 1;
                        const dayElement = document.createElement('div');
                        dayElement.className = 'calendar-day not-current-month';
                        dayElement.innerHTML = `
                            <div class="calendar-day-header">
                                <div class="day-number">${previousMonthDay}</div>
                            </div>
                            <div class="calendar-day-events"></div>
                        `;
                        monthView.appendChild(dayElement);
                    }
                    
                    // Add days of current month
                    for (let i = 1; i <= daysInMonth; i++) {
                        const currentDate = new Date(year, month, i);
                        const isToday = i === today.getDate() && 
                                        month === today.getMonth() && 
                                        year === today.getFullYear();
                        
                        const dayElement = document.createElement('div');
                        dayElement.className = `calendar-day ${isToday ? 'current-day' : ''}`;
                        dayElement.innerHTML = `
                            <div class="calendar-day-header">
                                <div class="day-number">${i}</div>
                            </div>
                            <div class="calendar-day-events"></div>
                        `;
                        
                        // Add event listener to add task when clicking on a day
                        dayElement.addEventListener('click', () => {
                            // Set the due date in the task modal to this date
                            const taskDueDate = document.getElementById('task-due-date');
                            if (taskDueDate) {
                                taskDueDate.value = currentDate.toISOString().split('T')[0];
                                this.showTaskModal();
                            }
                        });
                        
                        monthView.appendChild(dayElement);
                        
                        // Add tasks that are due on this day
                        const eventsContainer = dayElement.querySelector('.calendar-day-events');
                        const dayTasks = tasks.filter(task => {
                            if (!task.dueDate) return false;
                            const dueDate = new Date(task.dueDate);
                            return dueDate.getDate() === i && 
                                   dueDate.getMonth() === month && 
                                   dueDate.getFullYear() === year;
                        });
                        
                        dayTasks.forEach(task => {
                            const taskElement = document.createElement('div');
                            const priorityClass = task.priority === 'high' ? 'event-reminder' : 
                                                 task.priority === 'medium' ? 'event-meeting' : 'event-personal';
                            taskElement.className = `calendar-event ${priorityClass}`;
                            taskElement.textContent = task.title;
                            
                            // Add click handler to open task for editing
                            taskElement.addEventListener('click', (e) => {
                                e.stopPropagation();
                                this.editTask(task.id);
                            });
                            
                            eventsContainer.appendChild(taskElement);
                        });
                    }
                    
                    // Add days from next month to fill the grid
                    const totalDaysRendered = firstDay + daysInMonth;
                    const nextMonthDays = 42 - totalDaysRendered; // 6 rows * 7 days = 42
                    
                    for (let i = 1; i <= nextMonthDays; i++) {
                        const dayElement = document.createElement('div');
                        dayElement.className = 'calendar-day not-current-month';
                        dayElement.innerHTML = `
                            <div class="calendar-day-header">
                                <div class="day-number">${i}</div>
                            </div>
                            <div class="calendar-day-events"></div>
                        `;
                        monthView.appendChild(dayElement);
                    }
                };
                
                // Render week view
                const renderWeekView = () => {
                    weekView.innerHTML = '';
                    
                    // Get the start of the week (Sunday)
                    const weekStart = new Date(viewDate);
                    weekStart.setDate(viewDate.getDate() - viewDate.getDay());
                    
                    // Create week header
                    const weekHeader = document.createElement('div');
                    weekHeader.className = 'week-header';
                    
                    // Add time column header
                    const timeHeader = document.createElement('div');
                    timeHeader.className = 'week-header-time';
                    weekHeader.appendChild(timeHeader);
                    
                    // Add day headers
                    for (let i = 0; i < 7; i++) {
                        const day = new Date(weekStart);
                        day.setDate(weekStart.getDate() + i);
                        
                        const isToday = day.getDate() === today.getDate() && 
                                        day.getMonth() === today.getMonth() && 
                                        day.getFullYear() === today.getFullYear();
                        
                        const dayHeader = document.createElement('div');
                        dayHeader.className = 'week-header-day';
                        dayHeader.innerHTML = `
                            <div>${['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][i]}</div>
                            <div style="font-weight: ${isToday ? 'bold' : 'normal'};">${day.getDate()}</div>
                        `;
                        weekHeader.appendChild(dayHeader);
                    }
                    
                    weekView.appendChild(weekHeader);
                    
                    // Create week body
                    const weekBody = document.createElement('div');
                    weekBody.className = 'week-body';
                    
                    // Create time column
                    const timeColumn = document.createElement('div');
                    timeColumn.className = 'week-time-column';
                    
                    // Add hour slots
                    for (let i = 0; i < 24; i++) {
                        const timeSlot = document.createElement('div');
                        timeSlot.className = 'week-time-slot';
                        timeSlot.textContent = `${i}:00`;
                        timeColumn.appendChild(timeSlot);
                    }
                    
                    weekBody.appendChild(timeColumn);
                    
                    // Create day columns
                    for (let i = 0; i < 7; i++) {
                        const day = new Date(weekStart);
                        day.setDate(weekStart.getDate() + i);
                        
                        const dayColumn = document.createElement('div');
                        dayColumn.className = 'week-day-column';
                        
                        // Create the time grid
                        const timeGrid = document.createElement('div');
                        timeGrid.className = 'week-time-grid';
                        
                        // Add hour grid lines
                        for (let j = 0; j < 24; j++) {
                            const hourGrid = document.createElement('div');
                            hourGrid.className = 'week-grid-hour';
                            hourGrid.style.borderBottom = '1px solid var(--gray)';
                            timeGrid.appendChild(hourGrid);
                            
                            // Add click handler to create a task at this time
                            hourGrid.addEventListener('click', () => {
                                // Set the due date and time in the task modal
                                const taskDueDate = document.getElementById('task-due-date');
                                const taskStartTime = document.getElementById('task-start-time');
                                
                                if (taskDueDate && taskStartTime) {
                                    taskDueDate.value = day.toISOString().split('T')[0];
                                    taskStartTime.value = `${j.toString().padStart(2, '0')}:00`;
                                    this.showTaskModal();
                                }
                            });
                        }
                        
                        // Add tasks for this day
                        const dayTasks = tasks.filter(task => {
                            if (!task.dueDate) return false;
                            const dueDate = new Date(task.dueDate);
                            return dueDate.getDate() === day.getDate() && 
                                   dueDate.getMonth() === day.getMonth() && 
                                   dueDate.getFullYear() === day.getFullYear();
                        });
                        
                        dayTasks.forEach(task => {
                            if (task.startTime) {
                                const startTime = task.startTime.split(':');
                                const hour = parseInt(startTime[0]);
                                
                                // Create task element
                                const taskElement = document.createElement('div');
                                const priorityClass = task.priority === 'high' ? 'event-reminder' : 
                                                     task.priority === 'medium' ? 'event-meeting' : 'event-personal';
                                                     
                                taskElement.className = `calendar-event ${priorityClass}`;
                                taskElement.textContent = task.title;
                                taskElement.style.position = 'absolute';
                                taskElement.style.top = `${hour * 60}px`;
                                taskElement.style.left = '5px';
                                taskElement.style.right = '5px';
                                taskElement.style.height = `${task.duration ? task.duration : 60}px`;
                                
                                // Add click handler to open task for editing
                                taskElement.addEventListener('click', (e) => {
                                    e.stopPropagation();
                                    this.editTask(task.id);
                                });
                                
                                timeGrid.appendChild(taskElement);
                            }
                        });
                        
                        dayColumn.appendChild(timeGrid);
                        weekBody.appendChild(dayColumn);
                    }
                    
                    weekView.appendChild(weekBody);
                };
                
                // Initial render
                updateMonthDisplay();
                renderMonthView();
                
                // Add event listeners for navigation
                prevMonthBtn.addEventListener('click', () => {
                    if (activeView === 'month') {
                        viewDate.setMonth(viewDate.getMonth() - 1);
                    } else {
                        viewDate.setDate(viewDate.getDate() - 7);
                    }
                    updateMonthDisplay();
                    if (activeView === 'month') {
                        renderMonthView();
                    } else {
                        renderWeekView();
                    }
                });
                
                nextMonthBtn.addEventListener('click', () => {
                    if (activeView === 'month') {
                        viewDate.setMonth(viewDate.getMonth() + 1);
                    } else {
                        viewDate.setDate(viewDate.getDate() + 7);
                    }
                    updateMonthDisplay();
                    if (activeView === 'month') {
                        renderMonthView();
                    } else {
                        renderWeekView();
                    }
                });
                
                // View toggle
                monthViewBtn.addEventListener('click', () => {
                    if (activeView !== 'month') {
                        activeView = 'month';
                        monthView.style.display = 'grid';
                        weekView.style.display = 'none';
                        monthViewBtn.classList.add('active');
                        weekViewBtn.classList.remove('active');
                        renderMonthView();
                    }
                });
                
                weekViewBtn.addEventListener('click', () => {
                    if (activeView !== 'week') {
                        activeView = 'week';
                        monthView.style.display = 'none';
                        weekView.style.display = 'flex';
                        monthViewBtn.classList.remove('active');
                        weekViewBtn.classList.add('active');
                        renderWeekView();
                    }
                });
            }
            
            // Update progress bar
            updateProgress() {
                const filteredTasks = this.getFilteredTasks();
                const progressBar = document.getElementById('progress-bar');
                const progressPercentage = document.getElementById('progress-percentage');
                
                if (!progressBar || !progressPercentage || filteredTasks.length === 0) {
                    if (progressBar) progressBar.style.width = '0%';
                    if (progressPercentage) progressPercentage.textContent = '0%';
                    return;
                }
                
                const completedCount = filteredTasks.filter(task => task.completed).length;
                const percentage = Math.round((completedCount / filteredTasks.length) * 100);
                
                progressBar.style.width = `${percentage}%`;
                progressPercentage.textContent = `${percentage}%`;
            }
            
            // Show the project modal
            showProjectModal() {
                document.getElementById('project-modal').style.display = 'flex';
                document.getElementById('project-name-input').value = '';
                document.getElementById('project-description-input').value = '';
                document.getElementById('project-color-input').value = 'var(--primary)';
                
                // Reset color options
                document.querySelectorAll('.color-option').forEach(option => {
                    option.classList.remove('selected');
                });
                
                document.querySelector('.color-option[data-color="var(--primary)"]').classList.add('selected');
            }
            
            // Close project modal
            closeProjectModal() {
                document.getElementById('project-modal').style.display = 'none';
            }
            
            // Show task modal
            showTaskModal() {
                const taskModal = document.getElementById('task-modal');
                const titleInput = document.getElementById('task-name-input');
                const projectSelect = document.getElementById('task-project-select');
                const dueDateInput = document.getElementById('task-due-date');
                const prioritySelect = document.getElementById('task-priority');
                const notesInput = document.getElementById('task-notes-input');
                const deleteTaskBtn = document.getElementById('delete-task-btn');
                
                // Reset form
                titleInput.value = '';
                projectSelect.value = this.activeProjectId === 'all' || this.activeProjectId === 'today' || this.activeProjectId === 'upcoming' ? 'none' : this.activeProjectId;
                dueDateInput.value = '';
                prioritySelect.value = 'medium';
                notesInput.value = '';
                
                // Hide delete button for new tasks
                deleteTaskBtn.style.display = 'none';
                
                // Update modal title
                document.querySelector('#task-modal .event-modal-title').textContent = 'Add New Task';
                
                // Set data attribute for save button
                document.getElementById('save-task-btn').setAttribute('data-mode', 'add');
                
                taskModal.style.display = 'flex';
            }
            
            // Show edit task modal
            showEditTaskModal(taskId) {
                const task = this.tasks.find(t => t.id === taskId);
                if (!task) return;
                
                const taskModal = document.getElementById('task-modal');
                const titleInput = document.getElementById('task-name-input');
                const projectSelect = document.getElementById('task-project-select');
                const dueDateInput = document.getElementById('task-due-date');
                const prioritySelect = document.getElementById('task-priority');
                const notesInput = document.getElementById('task-notes-input');
                const startTimeInput = document.getElementById('task-start-time');
                const durationSelect = document.getElementById('task-duration');
                const deleteTaskBtn = document.getElementById('delete-task-btn');
                
                // Fill form with task data
                titleInput.value = task.title;
                projectSelect.value = task.projectId;
                dueDateInput.value = task.dueDate || '';
                prioritySelect.value = task.priority;
                notesInput.value = task.notes || '';
                startTimeInput.value = task.startTime || '';
                durationSelect.value = task.duration || '60';
                
                // Show delete button
                deleteTaskBtn.style.display = 'block';
                deleteTaskBtn.setAttribute('data-task-id', taskId);
                
                // Update modal title
                document.querySelector('#task-modal .event-modal-title').textContent = 'Edit Task';
                
                // Set data attribute for save button
                document.getElementById('save-task-btn').setAttribute('data-mode', 'edit');
                document.getElementById('save-task-btn').setAttribute('data-task-id', taskId);
                
                taskModal.style.display = 'flex';
            }
            
            // Close task modal
            closeTaskModal() {
                document.getElementById('task-modal').style.display = 'none';
            }
            
            // Set up event listeners
            setupEventListeners() {
                // Project list item clicks are handled in renderProjects()
                
                // View switcher
                document.querySelectorAll('[data-project-view]').forEach(item => {
                    item.addEventListener('click', () => {
                        const view = item.getAttribute('data-project-view');
                        this.switchView(view);
                    });
                });
                
                // Add project buttons
                const addProjectBtn = document.getElementById('add-project-btn');
                const addNewProjectBtn = document.getElementById('add-new-project-btn');
                
                if (addProjectBtn) {
                    addProjectBtn.addEventListener('click', () => {
                        this.showProjectModal();
                    });
                }
                
                if (addNewProjectBtn) {
                    addNewProjectBtn.addEventListener('click', () => {
                        this.showProjectModal();
                    });
                }
                
                // Project modal close button
                const closeProjectModalBtn = document.getElementById('close-project-modal');
                if (closeProjectModalBtn) {
                    closeProjectModalBtn.addEventListener('click', () => {
                        this.closeProjectModal();
                    });
                }
                
                // Project modal cancel button
                const cancelProjectBtn = document.getElementById('cancel-project-btn');
                if (cancelProjectBtn) {
                    cancelProjectBtn.addEventListener('click', () => {
                        this.closeProjectModal();
                    });
                }
                
                // Project modal save button
                const saveProjectBtn = document.getElementById('save-project-btn');
                if (saveProjectBtn) {
                    saveProjectBtn.addEventListener('click', () => {
                        const name = document.getElementById('project-name-input').value;
                        const color = document.getElementById('project-color-input').value;
                        const description = document.getElementById('project-description-input').value;
                        
                        this.addProject(name, color, description);
                    });
                }
                
                // Color option selection
                document.querySelectorAll('.color-option').forEach(option => {
                    option.addEventListener('click', () => {
                        // Remove selected class from all options
                        document.querySelectorAll('.color-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        
                        // Add selected class to clicked option
                        option.classList.add('selected');
                        
                        // Update hidden input
                        document.getElementById('project-color-input').value = option.getAttribute('data-color');
                    });
                });
                
                // Add task button (quick add)
                const addTaskBtn = document.getElementById('add-task-btn');
                if (addTaskBtn) {
                    addTaskBtn.addEventListener('click', () => {
                        const newTaskInput = document.getElementById('new-task-input');
                        const taskTitle = newTaskInput.value.trim();
                        
                        this.quickAddTask(taskTitle);
                    });
                }
                
                // Add task on Enter key
                const newTaskInput = document.getElementById('new-task-input');
                if (newTaskInput) {
                    newTaskInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            const taskTitle = e.target.value.trim();
                            this.quickAddTask(taskTitle);
                        }
                    });
                }
                
                // Task modal close button
                const closeTaskModalBtn = document.getElementById('close-task-modal');
                if (closeTaskModalBtn) {
                    closeTaskModalBtn.addEventListener('click', () => {
                        this.closeTaskModal();
                    });
                }
                
                // Task modal cancel button
                const cancelTaskBtn = document.getElementById('cancel-task-btn');
                if (cancelTaskBtn) {
                    cancelTaskBtn.addEventListener('click', () => {
                        this.closeTaskModal();
                    });
                }
                
                // Task modal save button
                const saveTaskBtn = document.getElementById('save-task-btn');
                if (saveTaskBtn) {
                    saveTaskBtn.addEventListener('click', () => {
                        const mode = saveTaskBtn.getAttribute('data-mode');
                        const title = document.getElementById('task-name-input').value;
                        const projectId = document.getElementById('task-project-select').value;
                        const dueDate = document.getElementById('task-due-date').value;
                        const priority = document.getElementById('task-priority').value;
                        const notes = document.getElementById('task-notes-input').value;
                        const startTime = document.getElementById('task-start-time').value;
                        const duration = document.getElementById('task-duration').value;
                        
                        if (mode === 'add') {
                            this.addTask(title, projectId, dueDate, priority, notes, startTime, duration);
                        } else if (mode === 'edit') {
                            const taskId = saveTaskBtn.getAttribute('data-task-id');
                            this.editTask(taskId, title, projectId, dueDate, priority, notes, startTime, duration);
                        }
                    });
                }
                
                // Delete task button in modal
                const deleteTaskBtn = document.getElementById('delete-task-btn');
                if (deleteTaskBtn) {
                    deleteTaskBtn.addEventListener('click', () => {
                        const taskId = deleteTaskBtn.getAttribute('data-task-id');
                        this.deleteTask(taskId);
                        this.closeTaskModal();
                    });
                }
                
                // Close modals when clicking outside
                window.addEventListener('click', (e) => {
                    const projectModal = document.getElementById('project-modal');
                    const taskModal = document.getElementById('task-modal');
                    
                    if (e.target === projectModal) {
                        this.closeProjectModal();
                    }
                    
                    if (e.target === taskModal) {
                        this.closeTaskModal();
                    }
                });
            }
            
            // Get project name by ID
            getProjectName(projectId) {
                if (projectId === 'none') return 'None';
                
                const project = this.projects.find(p => p.id === projectId);
                return project ? project.name : 'Unknown';
            }
        }
        
        // Initialize the managers when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize the YouTube Manager
            const youtubeManager = new YouTubeManager();
            
            // Initialize the Projects Manager
            const projectsManager = new ProjectsManager();
            
            // Initialize the Timer Manager
            const timerManager = new TimerManager();
            
            // Initialize the Reminders Manager
            const remindersManager = new RemindersManager();
            
            // Initialize the Calendar Manager
            const calendarManager = new CalendarManager();
            
            // Setup click handlers for all sidebar navigation items
            document.querySelectorAll('.nav-item').forEach(navItem => {
                navItem.addEventListener('click', () => {
                    const targetSection = navItem.getAttribute('data-target');
                    if (!targetSection) return;
                    
                    // Hide dashboard content
                    const dashboardContent = document.getElementById('dashboard-content');
                    if (dashboardContent) {
                        dashboardContent.style.display = 'none';
                    }
                    
                    // Show targeted section
                    const targetElement = document.getElementById(targetSection);
                    if (targetElement) {
                        targetElement.style.display = 'block';
                        // Set full width for the section
                        targetElement.style.width = '100%';
                    }
                    
                    // Hide other tab content
                    document.querySelectorAll(`.tab-content:not(#${targetSection})`).forEach(section => {
                        section.style.display = 'none';
                    });
                    
                    // Update active navigation item
                    document.querySelectorAll('.nav-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    navItem.classList.add('active');
                });
            });
            
            // Make projects & tasks section active by default
            document.getElementById('projects-section').style.display = 'block';
            document.querySelectorAll('.tab-content:not(#projects-section)').forEach(section => {
                section.style.display = 'none';
            });
            document.querySelector('.nav-item[data-target="projects-section"]').classList.add('active');
        });
        
        // Timer Manager
        class TimerManager {
            constructor() {
                this.activities = [];
                this.isRunning = false;
                this.isPaused = false;
                this.startTime = null;
                this.pauseTime = null;
                this.totalPausedTime = 0;
                this.timerInterval = null;
                this.activeView = 'day';
                this.currentActivity = {
                    name: '',
                    categoryId: 'focus',
                    taskId: null
                };
                
                this.loadActivities();
                this.setupEventListeners();
                this.updateStats();
                this.renderTimeline();
                this.renderActivities();
                this.populateTaskDropdown();
            }
            
            // Load activities from localStorage
            loadActivities() {
                try {
                    const savedActivities = JSON.parse(localStorage.getItem('time-tracking-activities')) || [];
                    this.activities = savedActivities;
                } catch (error) {
                    console.error('Error loading activities:', error);
                    this.activities = [];
                }
            }
            
            // Populate the task dropdown with tasks from ProjectsManager
            populateTaskDropdown() {
                const taskSelect = document.getElementById('task-select');
                if (!taskSelect) return;
                
                // Clear existing options except the first one
                while (taskSelect.options.length > 1) {
                    taskSelect.remove(1);
                }
                
                // Get tasks from localStorage
                try {
                    const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
                    
                    // Only show incomplete tasks
                    const incompleteTasks = tasks.filter(task => !task.completed);
                    
                    // Add tasks as options
                    incompleteTasks.forEach(task => {
                        const option = document.createElement('option');
                        option.value = task.id;
                        option.textContent = task.title;
                        taskSelect.appendChild(option);
                    });
                } catch (error) {
                    console.error('Error loading tasks for dropdown:', error);
                }
            }
            
            // Save activities to localStorage
            saveActivities() {
                localStorage.setItem('time-tracking-activities', JSON.stringify(this.activities));
            }
            
            // Setup event listeners
            setupEventListeners() {
                // Timer control buttons
                document.getElementById('timer-start-btn').addEventListener('click', () => this.startTimer());
                document.getElementById('timer-pause-btn').addEventListener('click', () => this.pauseTimer());
                document.getElementById('timer-stop-btn').addEventListener('click', () => this.stopTimer());
                
                // View controls
                document.querySelectorAll('[data-timer-view]').forEach(control => {
                    control.addEventListener('click', (e) => {
                        document.querySelectorAll('[data-timer-view]').forEach(c => c.classList.remove('active'));
                        e.target.classList.add('active');
                        this.activeView = e.target.getAttribute('data-timer-view');
                        this.renderTimeline();
                    });
                });
                
                // Task selection change
                const taskSelect = document.getElementById('task-select');
                if (taskSelect) {
                    taskSelect.addEventListener('change', (e) => {
                        if (e.target.value) {
                            const selectedOption = e.target.options[e.target.selectedIndex];
                            const activityNameInput = document.getElementById('activity-name');
                            
                            // Auto-fill the activity name with the task name if empty
                            if (!activityNameInput.value.trim()) {
                                activityNameInput.value = selectedOption.textContent;
                            }
                            
                            // Set category to Focus when a task is selected
                            document.getElementById('activity-category').value = 'focus';
                        }
                    });
                }
            }
            
            // Start the timer
            startTimer() {
                const activityName = document.getElementById('activity-name').value;
                const categoryId = document.getElementById('activity-category').value;
                const taskId = document.getElementById('task-select').value || null;
                
                if (!activityName) {
                    alert('Please enter an activity name');
                    return;
                }
                
                if (this.isPaused) {
                    // Resume from pause
                    this.isPaused = false;
                    this.totalPausedTime += (Date.now() - this.pauseTime);
                } else {
                    // Start new timer
                    this.startTime = Date.now();
                    this.totalPausedTime = 0;
                    this.currentActivity = {
                        name: activityName,
                        categoryId: categoryId,
                        taskId: taskId
                    };
                    
                    // If a task was selected, use its name if activity name is empty
                    if (taskId && !activityName.trim()) {
                        const taskSelect = document.getElementById('task-select');
                        const selectedOption = taskSelect.options[taskSelect.selectedIndex];
                        this.currentActivity.name = selectedOption.textContent;
                        document.getElementById('activity-name').value = selectedOption.textContent;
                    }
                }
                
                this.isRunning = true;
                this.updateTimerDisplay();
                
                document.getElementById('timer-start-btn').style.display = 'none';
                document.getElementById('timer-pause-btn').style.display = 'block';
                document.getElementById('timer-stop-btn').style.display = 'block';
                document.querySelector('.timer-status').textContent = 'Timer running';
                
                // Update timer every second
                this.timerInterval = setInterval(() => {
                    this.updateTimerDisplay();
                }, 1000);
            }
            
            // Pause the timer
            pauseTimer() {
                if (!this.isRunning) return;
                
                this.isPaused = true;
                this.pauseTime = Date.now();
                clearInterval(this.timerInterval);
                
                document.getElementById('timer-start-btn').style.display = 'block';
                document.getElementById('timer-pause-btn').style.display = 'none';
                document.querySelector('.timer-status').textContent = 'Timer paused';
            }
            
            // Stop the timer and save the activity
            stopTimer() {
                if (!this.isRunning) return;
                
                clearInterval(this.timerInterval);
                
                const endTime = Date.now();
                const elapsedTime = endTime - this.startTime - this.totalPausedTime;
                
                // Only save if more than 5 seconds have elapsed
                if (elapsedTime > 5000) {
                    const newActivity = {
                        id: Date.now().toString(),
                        name: this.currentActivity.name,
                        categoryId: this.currentActivity.categoryId,
                        taskId: this.currentActivity.taskId,
                        startTime: new Date(this.startTime).toISOString(),
                        endTime: new Date(endTime).toISOString(),
                        duration: Math.floor(elapsedTime / 1000), // duration in seconds
                        createdAt: new Date().toISOString()
                    };
                    
                    this.activities.push(newActivity);
                    this.saveActivities();
                    this.updateStats();
                    this.renderTimeline();
                    this.renderActivities();
                    
                    // If this was associated with a task, update the task statistics
                    if (this.currentActivity.taskId) {
                        this.updateTaskTimeStatistics(this.currentActivity.taskId, elapsedTime);
                    }
                }
                
                // Reset timer state
                this.isRunning = false;
                this.isPaused = false;
                this.startTime = null;
                this.pauseTime = null;
                this.totalPausedTime = 0;
                
                // Reset UI
                document.querySelector('.time-display').textContent = '00:00:00';
                document.querySelector('.timer-status').textContent = 'Ready to start';
                document.getElementById('timer-start-btn').style.display = 'block';
                document.getElementById('timer-pause-btn').style.display = 'none';
                document.getElementById('timer-stop-btn').style.display = 'none';
                document.getElementById('activity-name').value = '';
                document.getElementById('task-select').value = '';
            }
            
            // Update task time statistics
            updateTaskTimeStatistics(taskId, elapsedTimeMs) {
                try {
                    const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
                    const taskIndex = tasks.findIndex(task => task.id === taskId);
                    
                    if (taskIndex !== -1) {
                        const task = tasks[taskIndex];
                        const elapsedTimeMinutes = Math.floor(elapsedTimeMs / 60000);
                        
                        // Initialize timeSpent if it doesn't exist
                        task.timeSpent = (task.timeSpent || 0) + elapsedTimeMinutes;
                        
                        tasks[taskIndex] = task;
                        localStorage.setItem('tasks', JSON.stringify(tasks));
                    }
                } catch (error) {
                    console.error('Error updating task time statistics:', error);
                }
            }
            
            // Update the timer display
            updateTimerDisplay() {
                if (!this.isRunning) return;
                
                const now = Date.now();
                const elapsedTime = now - this.startTime - this.totalPausedTime;
                
                const seconds = Math.floor((elapsedTime / 1000) % 60);
                const minutes = Math.floor((elapsedTime / (1000 * 60)) % 60);
                const hours = Math.floor((elapsedTime / (1000 * 60 * 60)));
                
                const display = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                document.querySelector('.time-display').textContent = display;
            }
            
            // Update the statistics display
            updateStats() {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                const todayActivities = this.activities.filter(activity => {
                    const activityDate = new Date(activity.startTime);
                    activityDate.setHours(0, 0, 0, 0);
                    return activityDate.getTime() === today.getTime();
                });
                
                const totalSeconds = todayActivities.reduce((total, activity) => total + activity.duration, 0);
                const hours = Math.floor(totalSeconds / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                
                document.getElementById('today-total-time').textContent = `${hours}h ${minutes}m`;
                document.getElementById('today-activities-count').textContent = todayActivities.length;
                
                // Also update history summary if on history page
                this.updateHistorySummary();
            }
            
            // Update the history summary
            updateHistorySummary() {
                const dateRangeSelect = document.getElementById('date-range');
                const categoryFilter = document.getElementById('category-filter');
                
                if (!dateRangeSelect || !categoryFilter) return;
                
                const dateRange = dateRangeSelect.value;
                const category = categoryFilter.value;
                
                let filteredActivities = [...this.activities];
                
                // Apply date filter
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                if (dateRange === 'today') {
                    filteredActivities = filteredActivities.filter(activity => {
                        const activityDate = new Date(activity.startTime);
                        activityDate.setHours(0, 0, 0, 0);
                        return activityDate.getTime() === today.getTime();
                    });
                } else if (dateRange === 'yesterday') {
                    const yesterday = new Date(today);
                    yesterday.setDate(yesterday.getDate() - 1);
                    
                    filteredActivities = filteredActivities.filter(activity => {
                        const activityDate = new Date(activity.startTime);
                        activityDate.setHours(0, 0, 0, 0);
                        return activityDate.getTime() === yesterday.getTime();
                    });
                } else if (dateRange === 'week') {
                    const weekStart = new Date(today);
                    weekStart.setDate(weekStart.getDate() - weekStart.getDay());
                    
                    filteredActivities = filteredActivities.filter(activity => {
                        const activityDate = new Date(activity.startTime);
                        return activityDate >= weekStart;
                    });
                } else if (dateRange === 'month') {
                    const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);
                    
                    filteredActivities = filteredActivities.filter(activity => {
                        const activityDate = new Date(activity.startTime);
                        return activityDate >= monthStart;
                    });
                }
                
                // Apply category filter
                if (category !== 'all') {
                    filteredActivities = filteredActivities.filter(activity => activity.categoryId === category);
                }
                
                // Update summary stats
                const totalSeconds = filteredActivities.reduce((total, activity) => total + activity.duration, 0);
                const hours = Math.floor(totalSeconds / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                
                document.getElementById('summary-total-time').textContent = `${hours}h ${minutes}m`;
                document.getElementById('summary-activities-count').textContent = filteredActivities.length;
                
                // Find most common activity
                if (filteredActivities.length > 0) {
                    const activityCounts = {};
                    filteredActivities.forEach(activity => {
                        activityCounts[activity.name] = (activityCounts[activity.name] || 0) + 1;
                    });
                    
                    let mostCommonActivity = '';
                    let maxCount = 0;
                    
                    for (const [activity, count] of Object.entries(activityCounts)) {
                        if (count > maxCount) {
                            mostCommonActivity = activity;
                            maxCount = count;
                        }
                    }
                    
                    document.getElementById('most-common-activity').textContent = mostCommonActivity;
                } else {
                    document.getElementById('most-common-activity').textContent = 'None';
                }
                
                // Render history list
                this.renderHistoryList(filteredActivities);
            }
            
            // Render the activity timeline
            renderTimeline() {
                // Would generate hour markers and position activities on timeline
                // This is a simplified version
            }
            
            // Render the activities list
            renderActivities() {
                const activitiesList = document.getElementById('activities-list');
                if (!activitiesList) return;
                
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                const todayActivities = this.activities.filter(activity => {
                    const activityDate = new Date(activity.startTime);
                    activityDate.setHours(0, 0, 0, 0);
                    return activityDate.getTime() === today.getTime();
                }).sort((a, b) => new Date(b.startTime) - new Date(a.startTime));
                
                if (todayActivities.length === 0) {
                    activitiesList.innerHTML = `
                        <h3 style="margin-bottom: 15px;">Recent Activities</h3>
                        <div class="empty-state" style="text-align: center; padding: 30px; color: var(--gray-dark);">
                            No activities recorded yet. Start a timer to begin tracking.
                        </div>
                    `;
                    return;
                }
                
                // Get tasks from localStorage for showing task names
                let tasks = [];
                try {
                    tasks = JSON.parse(localStorage.getItem('tasks')) || [];
                } catch (error) {
                    console.error('Error loading tasks:', error);
                }
                
                let activitiesHTML = `<h3 style="margin-bottom: 15px;">Recent Activities</h3>`;
                
                todayActivities.forEach(activity => {
                    const startTime = new Date(activity.startTime);
                    const endTime = new Date(activity.endTime);
                    const duration = activity.duration;
                    
                    const hours = Math.floor(duration / 3600);
                    const minutes = Math.floor((duration % 3600) / 60);
                    const seconds = Math.floor(duration % 60);
                    
                    const durationDisplay = hours > 0 
                        ? `${hours}h ${minutes}m` 
                        : `${minutes}m ${seconds}s`;
                    
                    // Get color based on category
                    const colors = {
                        focus: 'var(--primary)',
                        meetings: 'var(--accent2)',
                        breaks: 'var(--danger)',
                        other: 'var(--gray-dark)'
                    };
                    
                    const color = colors[activity.categoryId] || colors.other;
                    
                    // Get associated task name if exists
                    let taskInfo = '';
                    if (activity.taskId) {
                        const task = tasks.find(t => t.id === activity.taskId);
                        if (task) {
                            taskInfo = `<div style="margin-top: 5px; font-size: 12px; background-color: rgba(0,0,0,0.05); padding: 3px 8px; border-radius: 4px; display: inline-block;">Task: ${task.title}</div>`;
                        }
                    }
                    
                    activitiesHTML += `
                        <div class="activity-item" style="background-color: white; border-radius: 8px; padding: 15px; margin-bottom: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center;">
                                    <div style="width: 12px; height: 12px; border-radius: 50%; background-color: ${color}; margin-right: 10px;"></div>
                                    <div style="font-weight: 500;">${activity.name}</div>
                                </div>
                                <div style="color: var(--gray-dark);">${durationDisplay}</div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 14px; color: var(--gray-dark);">
                                <div>${startTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                                <div>${activity.categoryId.charAt(0).toUpperCase() + activity.categoryId.slice(1)}</div>
                            </div>
                            ${taskInfo}
                        </div>
                    `;
                });
                
                activitiesList.innerHTML = activitiesHTML;
            }
            
            // Render the history list
            renderHistoryList(filteredActivities) {
                const historyList = document.getElementById('history-list');
                const emptyState = document.getElementById('empty-history');
                
                if (!historyList || !emptyState) return;
                
                if (filteredActivities.length === 0) {
                    historyList.style.display = 'none';
                    emptyState.style.display = 'block';
                    return;
                }
                
                emptyState.style.display = 'none';
                historyList.style.display = 'block';
                
                // Group activities by date
                const groupedActivities = {};
                
                filteredActivities.sort((a, b) => new Date(b.startTime) - new Date(a.startTime))
                    .forEach(activity => {
                        const date = new Date(activity.startTime).toDateString();
                        if (!groupedActivities[date]) {
                            groupedActivities[date] = [];
                        }
                        groupedActivities[date].push(activity);
                    });
                
                let historyHTML = '';
                
                for (const [date, activities] of Object.entries(groupedActivities)) {
                    historyHTML += `
                        <div class="history-date" style="margin-bottom: 20px;">
                            <h4 style="margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px solid var(--gray);">${date}</h4>
                            <div class="date-activities">
                    `;
                    
                    activities.forEach(activity => {
                        const startTime = new Date(activity.startTime);
                        const duration = activity.duration;
                        
                        const hours = Math.floor(duration / 3600);
                        const minutes = Math.floor((duration % 3600) / 60);
                        
                        const durationDisplay = hours > 0 
                            ? `${hours}h ${minutes}m` 
                            : `${minutes}m`;
                        
                        // Get color based on category
                        const colors = {
                            focus: 'var(--primary)',
                            meetings: 'var(--accent2)',
                            breaks: 'var(--danger)',
                            other: 'var(--gray-dark)'
                        };
                        
                        const color = colors[activity.categoryId] || colors.other;
                        
                        historyHTML += `
                            <div class="activity-item" style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid var(--gray); align-items: center;">
                                <div style="display: flex; align-items: center;">
                                    <div style="width: 10px; height: 10px; border-radius: 50%; background-color: ${color}; margin-right: 10px;"></div>
                                    <div>
                                        <div style="font-weight: 500;">${activity.name}</div>
                                        <div style="font-size: 14px; color: var(--gray-dark);">${startTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                                    </div>
                                </div>
                                <div>
                                    <div style="text-align: right; font-weight: 500;">${durationDisplay}</div>
                                    <div style="font-size: 14px; color: var(--gray-dark); text-align: right;">${activity.categoryId}</div>
                                </div>
                            </div>
                        `;
                    });
                    
                    historyHTML += `
                            </div>
                        </div>
                    `;
                }
                
                historyList.innerHTML = historyHTML;
            }
        }
        
        // Reminders Manager
        class RemindersManager {
            constructor() {
                this.reminders = [];
                this.loadReminders();
                this.setupEventListeners();
                this.checkNotificationPermission();
                this.checkDueReminders();
            }
            
            // Load reminders from localStorage
            loadReminders() {
                try {
                    const savedReminders = JSON.parse(localStorage.getItem('reminders')) || [];
                    this.reminders = savedReminders;
                } catch (error) {
                    console.error('Error loading reminders:', error);
                    this.reminders = [];
                }
            }
            
            // Save reminders to localStorage
            saveReminders() {
                localStorage.setItem('reminders', JSON.stringify(this.reminders));
            }
            
            // Setup event listeners
            setupEventListeners() {
                // Event listeners would be added here for the reminders UI
                // This is a simplified version
            }
            
            // Check notification permission
            checkNotificationPermission() {
                if ('Notification' in window && Notification.permission !== 'granted' && Notification.permission !== 'denied') {
                    Notification.requestPermission();
                }
            }
            
            // Check for due reminders
            checkDueReminders() {
                if (!('Notification' in window) || Notification.permission !== 'granted') return;
                
                const now = new Date();
                
                this.reminders.forEach(reminder => {
                    if (reminder.completed) return;
                    
                    const reminderTime = new Date(reminder.dateTime);
                    const timeDiff = reminderTime - now;
                    
                    // If the reminder is due within the next minute and hasn't been shown
                    if (timeDiff > 0 && timeDiff <= 60000 && !reminder.notificationShown) {
                        this.showNotification(reminder);
                        
                        // Mark as notified
                        this.reminders = this.reminders.map(r => 
                            r.id === reminder.id ? { ...r, notificationShown: true } : r
                        );
                        this.saveReminders();
                    }
                });
                
                // Check again in 30 seconds
                setTimeout(() => this.checkDueReminders(), 30000);
            }
            
            // Show a notification for a reminder
            showNotification(reminder) {
                const notification = new Notification('Reminder: ' + reminder.title, {
                    body: reminder.notes || 'Your reminder is due now.',
                    icon: '/favicon.ico'
                });
                
                notification.onclick = function() {
                    window.focus();
                    notification.close();
                };
            }
            
            // Add a new reminder
            addReminder(title, dateTime, priority = 'medium', notes = '') {
                if (!title || !dateTime) return false;
                
                const newReminder = {
                    id: Date.now().toString(),
                    title,
                    dateTime: new Date(dateTime).toISOString(),
                    priority,
                    notes,
                    completed: false,
                    notificationShown: false,
                    createdAt: new Date().toISOString()
                };
                
                this.reminders.push(newReminder);
                this.saveReminders();
                
                return true;
            }
            
            // Toggle reminder completion status
            toggleReminder(id) {
                this.reminders = this.reminders.map(reminder => 
                    reminder.id === id ? { ...reminder, completed: !reminder.completed } : reminder
                );
                
                this.saveReminders();
            }
            
            // Delete a reminder
            deleteReminder(id) {
                this.reminders = this.reminders.filter(reminder => reminder.id !== id);
                this.saveReminders();
            }
        }

        // Calendar Manager
        class CalendarManager {
            constructor() {
                this.events = [];
                this.reminders = [];
                this.activeView = 'month';
                this.currentDate = new Date();
                
                this.loadEvents();
                this.loadReminders();
                this.setupEventListeners();
                this.renderCalendar();
            }
            
            // Load events from scheduler.json
            loadEvents() {
                fetch('data/scheduler.json')
                    .then(response => response.json())
                    .then(data => {
                        this.events = data.events;
                        this.renderCalendar();
                    })
                    .catch(error => {
                        console.error('Error loading events:', error);
                        this.events = [];
                    });
            }
            
            // Load reminders from reminders.json
            loadReminders() {
                fetch('data/reminders.json')
                    .then(response => response.json())
                    .then(data => {
                        this.reminders = data.reminders;
                        this.renderCalendar();
                    })
                    .catch(error => {
                        console.error('Error loading reminders:', error);
                        this.reminders = [];
                    });
            }
            
            // Setup event listeners
            setupEventListeners() {
                // Add navigation event listeners for the calendar tab
                document.addEventListener('click', (e) => {
                    if (e.target.id === 'calendar-prev-month') {
                        this.changeMonth(-1);
                    } else if (e.target.id === 'calendar-next-month') {
                        this.changeMonth(1);
                    } else if (e.target.id === 'calendar-add-event') {
                        this.showAddEventModal();
                    }
                });
                
                // Listen for clicks on the Calendar tab in sidebar
                const calendarTab = document.querySelector('.nav-item[data-target="calendar-section"]');
                if (calendarTab) {
                    calendarTab.addEventListener('click', () => {
                        this.renderCalendar();
                    });
                }
            }
            
            // Change the current month
            changeMonth(delta) {
                this.currentDate.setMonth(this.currentDate.getMonth() + delta);
                this.renderCalendar();
            }
            
            // Show the add event modal
            showAddEventModal() {
                const modal = document.getElementById('event-modal');
                const titleInput = document.getElementById('event-title');
                const dateInput = document.getElementById('event-date');
                const startTimeInput = document.getElementById('event-start-time');
                const endTimeInput = document.getElementById('event-end-time');
                const locationInput = document.getElementById('event-location');
                const descriptionInput = document.getElementById('event-description');
                const categorySelect = document.getElementById('event-category');
                
                // Set today's date as default
                const today = new Date();
                const dateString = today.toISOString().split('T')[0];
                
                if (modal && titleInput && dateInput) {
                    titleInput.value = '';
                    dateInput.value = dateString;
                    if (startTimeInput) startTimeInput.value = '';
                    if (endTimeInput) endTimeInput.value = '';
                    if (locationInput) locationInput.value = '';
                    if (descriptionInput) descriptionInput.value = '';
                    if (categorySelect) categorySelect.value = 'work';
                    
                    modal.style.display = 'flex';
                }
            }
            
            // Render the calendar
            renderCalendar() {
                const calendarSection = document.getElementById('calendar-section');
                if (!calendarSection) return;
                
                // Clear the calendar section and set up the structure
                calendarSection.innerHTML = `
                    <div class="header">
                        <div class="date">
                            Calendar
                            <div class="status">
                                <div class="status-indicator"></div>
                                <span>Active</span>
                            </div>
                        </div>
                        <div class="calendar-controls">
                            <div class="calendar-nav">
                                <button id="calendar-prev-month" class="calendar-nav-btn">❮</button>
                                <div id="calendar-current-month" style="margin: 0 15px;"></div>
                                <button id="calendar-next-month" class="calendar-nav-btn">❯</button>
                            </div>
                            <div class="view-controls">
                                <div class="view-control active" data-calendar-view="month">Month</div>
                                <div class="view-control" data-calendar-view="week">Week</div>
                            </div>
                            <button id="calendar-add-event" class="calendar-new-btn">+ Add Event</button>
                        </div>
                    </div>
                    <div class="calendar-container">
                        <div class="calendar-sidebar">
                            <div class="mini-calendar">
                                <div class="mini-calendar-header">
                                    <div class="mini-calendar-title">Calendar</div>
                                </div>
                                <div class="mini-calendar-grid" id="mini-calendar-grid">
                                    <!-- Mini calendar will be rendered here -->
                                </div>
                            </div>
                            <div class="my-calendars">
                                <div class="section-title">My Calendars</div>
                                <ul class="calendar-list">
                                    <li class="calendar-list-item">
                                        <span class="calendar-color" style="background-color: var(--primary);"></span>
                                        <span>Work</span>
                                    </li>
                                    <li class="calendar-list-item">
                                        <span class="calendar-color" style="background-color: var(--secondary);"></span>
                                        <span>Personal</span>
                                    </li>
                                    <li class="calendar-list-item">
                                        <span class="calendar-color" style="background-color: var(--accent2);"></span>
                                        <span>Meetings</span>
                                    </li>
                                    <li class="calendar-list-item">
                                        <span class="calendar-color" style="background-color: var(--warning);"></span>
                                        <span>Reminders</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="calendar-view-container" class="calendar-grid-container">
                            <div id="month-view" class="calendar-grid"></div>
                            <div id="week-view" class="calendar-week-view" style="display: none;"></div>
                        </div>
                    </div>
                    
                    <!-- Calendar Event Modal -->
                    <div id="event-modal" class="event-modal">
                        <div class="event-modal-content">
                            <div class="event-modal-header">
                                <div class="event-modal-title">Add Event</div>
                                <button class="event-modal-close" id="close-event-modal">&times;</button>
                            </div>
                            <div class="event-modal-body">
                                <div class="event-form-group">
                                    <label class="event-form-label">Event Title</label>
                                    <input type="text" id="event-title" class="event-form-input" placeholder="Enter event title" required>
                                </div>
                                <div class="event-form-row">
                                    <div class="event-form-group">
                                        <label class="event-form-label">Date</label>
                                        <input type="date" id="event-date" class="event-form-input" required>
                                    </div>
                                    <div class="event-form-group">
                                        <label class="event-form-label">Category</label>
                                        <select id="event-category" class="event-form-select">
                                            <option value="work">Work</option>
                                            <option value="personal">Personal</option>
                                            <option value="meeting">Meeting</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="event-form-row">
                                    <div class="event-form-group">
                                        <label class="event-form-label">Start Time</label>
                                        <input type="time" id="event-start-time" class="event-form-input">
                                    </div>
                                    <div class="event-form-group">
                                        <label class="event-form-label">End Time</label>
                                        <input type="time" id="event-end-time" class="event-form-input">
                                    </div>
                                </div>
                                <div class="event-form-group">
                                    <label class="event-form-label">Location</label>
                                    <input type="text" id="event-location" class="event-form-input" placeholder="Enter location">
                                </div>
                                <div class="event-form-group">
                                    <label class="event-form-label">Description</label>
                                    <textarea id="event-description" class="event-form-textarea" placeholder="Enter description"></textarea>
                                </div>
                            </div>
                            <div class="event-modal-footer">
                                <button class="event-form-btn btn-delete" id="delete-event-btn" style="display: none;">Delete</button>
                                <button class="event-form-btn btn-cancel" id="cancel-event-btn">Cancel</button>
                                <button class="event-form-btn btn-save" id="save-event-btn">Save Event</button>
                            </div>
                        </div>
                    </div>
                `;
                
                // Render the month view
                this.renderMonthView();
                
                // Update month display
                const monthDisplay = document.getElementById('calendar-current-month');
                if (monthDisplay) {
                    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                    monthDisplay.textContent = `${months[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;
                }
                
                // Add event listeners
                document.getElementById('calendar-prev-month').addEventListener('click', () => this.changeMonth(-1));
                document.getElementById('calendar-next-month').addEventListener('click', () => this.changeMonth(1));
                document.getElementById('calendar-add-event').addEventListener('click', () => this.showAddEventModal());
                
                // View toggles
                document.querySelectorAll('[data-calendar-view]').forEach(item => {
                    item.addEventListener('click', () => {
                        const view = item.getAttribute('data-calendar-view');
                        this.switchView(view);
                    });
                });
                
                // Close modal handlers
                document.getElementById('close-event-modal').addEventListener('click', () => {
                    document.getElementById('event-modal').style.display = 'none';
                });
                
                document.getElementById('cancel-event-btn').addEventListener('click', () => {
                    document.getElementById('event-modal').style.display = 'none';
                });
                
                // Save event handler
                document.getElementById('save-event-btn').addEventListener('click', () => this.saveEvent());
                
                // Click outside to close modal
                window.addEventListener('click', (e) => {
                    const modal = document.getElementById('event-modal');
                    if (e.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            }
            
            // Switch between month and week views
            switchView(view) {
                this.activeView = view;
                
                // Update active class on view controls
                document.querySelectorAll('[data-calendar-view]').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelector(`[data-calendar-view="${view}"]`).classList.add('active');
                
                // Show/hide appropriate view
                if (view === 'month') {
                    document.getElementById('month-view').style.display = 'grid';
                    document.getElementById('week-view').style.display = 'none';
                } else {
                    document.getElementById('month-view').style.display = 'none';
                    document.getElementById('week-view').style.display = 'flex';
                    this.renderWeekView();
                }
            }
            
            // Render the month view
            renderMonthView() {
                const monthView = document.getElementById('month-view');
                if (!monthView) return;
                
                monthView.innerHTML = '';
                
                const currentYear = this.currentDate.getFullYear();
                const currentMonth = this.currentDate.getMonth();
                
                // Add day headers
                const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                dayNames.forEach(day => {
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'calendar-day-header';
                    dayHeader.innerHTML = `<div class="day-name">${day}</div>`;
                    monthView.appendChild(dayHeader);
                });
                
                // Get first day of month and number of days
                const firstDay = new Date(currentYear, currentMonth, 1).getDay();
                const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
                
                // Get last day of previous month
                const lastMonthDays = new Date(currentYear, currentMonth, 0).getDate();
                
                // Add days from previous month
                for (let i = 0; i < firstDay; i++) {
                    const previousMonthDay = lastMonthDays - firstDay + i + 1;
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day not-current-month';
                    dayElement.innerHTML = `
                        <div class="calendar-day-header">
                            <div class="day-number">${previousMonthDay}</div>
                        </div>
                        <div class="calendar-day-events"></div>
                    `;
                    monthView.appendChild(dayElement);
                }
                
                // Add days of current month
                const today = new Date();
                
                for (let i = 1; i <= daysInMonth; i++) {
                    const currentDate = new Date(currentYear, currentMonth, i);
                    const isToday = i === today.getDate() && 
                                    currentMonth === today.getMonth() && 
                                    currentYear === today.getFullYear();
                    
                    const dayElement = document.createElement('div');
                    dayElement.className = `calendar-day ${isToday ? 'current-day' : ''}`;
                    dayElement.innerHTML = `
                        <div class="calendar-day-header">
                            <div class="day-number">${i}</div>
                        </div>
                        <div class="calendar-day-events"></div>
                    `;
                    
                    // Add event listener to add event when clicking on a day
                    dayElement.addEventListener('click', (e) => {
                        if (!e.target.closest('.calendar-event')) {
                            const modal = document.getElementById('event-modal');
                            const dateInput = document.getElementById('event-date');
                            
                            if (modal && dateInput) {
                                dateInput.value = currentDate.toISOString().split('T')[0];
                                modal.style.display = 'flex';
                            }
                        }
                    });
                    
                    monthView.appendChild(dayElement);
                    
                    // Add events for this day
                    const eventsContainer = dayElement.querySelector('.calendar-day-events');
                    
                    // Add scheduled events
                    this.events.forEach(event => {
                        const eventStart = new Date(event.start);
                        if (eventStart.getDate() === i && 
                            eventStart.getMonth() === currentMonth && 
                            eventStart.getFullYear() === currentYear) {
                            
                            // Create event element
                            const eventElement = document.createElement('div');
                            let eventClass = '';
                            
                            // Determine event class based on category
                            switch(event.category) {
                                case 'work':
                                    eventClass = 'event-work';
                                    break;
                                case 'personal':
                                    eventClass = 'event-personal';
                                    break;
                                case 'meeting':
                                    eventClass = 'event-meeting';
                                    break;
                                default:
                                    eventClass = 'event-work';
                            }
                            
                            eventElement.className = `calendar-event ${eventClass}`;
                            
                            // Format time if available
                            let timeStr = '';
                            if (event.start) {
                                const eventTime = new Date(event.start);
                                timeStr = eventTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                            }
                            
                            eventElement.textContent = timeStr ? `${timeStr} ${event.title}` : event.title;
                            eventElement.title = event.description || event.title;
                            
                            // Add click handler
                            eventElement.addEventListener('click', (e) => {
                                e.stopPropagation();
                                this.editEvent(event.id);
                            });
                            
                            eventsContainer.appendChild(eventElement);
                        }
                    });
                    
                    // Add reminders
                    this.reminders.forEach(reminder => {
                        if (reminder.datetime) {
                            const reminderDate = new Date(reminder.datetime);
                            if (reminderDate.getDate() === i && 
                                reminderDate.getMonth() === currentMonth && 
                                reminderDate.getFullYear() === currentYear) {
                                
                                // Create reminder element
                                const reminderElement = document.createElement('div');
                                reminderElement.className = 'calendar-event event-reminder';
                                
                                // Format time if available
                                let timeStr = '';
                                if (reminder.datetime) {
                                    const reminderTime = new Date(reminder.datetime);
                                    timeStr = reminderTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                                }
                                
                                reminderElement.textContent = timeStr ? `${timeStr} ${reminder.title}` : reminder.title;
                                reminderElement.title = reminder.note || reminder.title;
                                
                                eventsContainer.appendChild(reminderElement);
                            }
                        }
                    });
                }
                
                // Add days from next month to fill the grid
                const totalDaysRendered = firstDay + daysInMonth;
                const nextMonthDays = 42 - totalDaysRendered; // 6 rows * 7 days = 42
                
                for (let i = 1; i <= nextMonthDays; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day not-current-month';
                    dayElement.innerHTML = `
                        <div class="calendar-day-header">
                            <div class="day-number">${i}</div>
                        </div>
                        <div class="calendar-day-events"></div>
                    `;
                    monthView.appendChild(dayElement);
                }
            }
            
            // Render the week view
            renderWeekView() {
                const weekView = document.getElementById('week-view');
                if (!weekView) return;
                
                weekView.innerHTML = '';
                
                // Get the start of the week (Sunday)
                const weekStart = new Date(this.currentDate);
                weekStart.setDate(this.currentDate.getDate() - this.currentDate.getDay());
                
                // Create week header
                const weekHeader = document.createElement('div');
                weekHeader.className = 'week-header';
                
                // Add time column header
                const timeHeader = document.createElement('div');
                timeHeader.className = 'week-header-time';
                weekHeader.appendChild(timeHeader);
                
                // Add day headers
                const today = new Date();
                
                for (let i = 0; i < 7; i++) {
                    const day = new Date(weekStart);
                    day.setDate(weekStart.getDate() + i);
                    
                    const isToday = day.getDate() === today.getDate() && 
                                    day.getMonth() === today.getMonth() && 
                                    day.getFullYear() === today.getFullYear();
                    
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'week-header-day';
                    dayHeader.innerHTML = `
                        <div>${['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][i]}</div>
                        <div style="font-weight: ${isToday ? 'bold' : 'normal'};">${day.getDate()}</div>
                    `;
                    weekHeader.appendChild(dayHeader);
                }
                
                weekView.appendChild(weekHeader);
                
                // Create week body
                const weekBody = document.createElement('div');
                weekBody.className = 'week-body';
                
                // Create time column
                const timeColumn = document.createElement('div');
                timeColumn.className = 'week-time-column';
                
                // Add hour slots
                for (let i = 0; i < 24; i++) {
                    const timeSlot = document.createElement('div');
                    timeSlot.className = 'week-time-slot';
                    timeSlot.textContent = `${i}:00`;
                    timeColumn.appendChild(timeSlot);
                }
                
                weekBody.appendChild(timeColumn);
                
                // Create day columns
                for (let i = 0; i < 7; i++) {
                    const day = new Date(weekStart);
                    day.setDate(weekStart.getDate() + i);
                    
                    const dayColumn = document.createElement('div');
                    dayColumn.className = 'week-day-column';
                    
                    // Create the time grid
                    const timeGrid = document.createElement('div');
                    timeGrid.className = 'week-time-grid';
                    
                    // Add hour grid lines
                    for (let j = 0; j < 24; j++) {
                        const hourGrid = document.createElement('div');
                        hourGrid.className = 'week-grid-hour';
                        hourGrid.style.borderBottom = '1px solid var(--gray)';
                        timeGrid.appendChild(hourGrid);
                        
                        // Add click handler to create an event at this time
                        hourGrid.addEventListener('click', () => {
                            const modal = document.getElementById('event-modal');
                            const dateInput = document.getElementById('event-date');
                            const startTimeInput = document.getElementById('event-start-time');
                            
                            if (modal && dateInput && startTimeInput) {
                                dateInput.value = day.toISOString().split('T')[0];
                                startTimeInput.value = `${j.toString().padStart(2, '0')}:00`;
                                
                                // Set end time one hour later
                                const endTimeInput = document.getElementById('event-end-time');
                                if (endTimeInput) {
                                    endTimeInput.value = `${(j + 1).toString().padStart(2, '0')}:00`;
                                }
                                
                                modal.style.display = 'flex';
                            }
                        });
                    }
                    
                    // Add events for this day
                    this.events.forEach(event => {
                        const eventStart = new Date(event.start);
                        if (eventStart.getDate() === day.getDate() && 
                            eventStart.getMonth() === day.getMonth() && 
                            eventStart.getFullYear() === day.getFullYear()) {
                            
                            const hour = eventStart.getHours();
                            const minutes = eventStart.getMinutes();
                            
                            // Calculate duration
                            let durationInMinutes = 60; // Default 1 hour
                            
                            if (event.end) {
                                const eventEnd = new Date(event.end);
                                durationInMinutes = (eventEnd - eventStart) / (1000 * 60);
                            }
                            
                            // Create event element
                            const eventElement = document.createElement('div');
                            let eventClass = '';
                            
                            // Determine event class based on category
                            switch(event.category) {
                                case 'work':
                                    eventClass = 'event-work';
                                    break;
                                case 'personal':
                                    eventClass = 'event-personal';
                                    break;
                                case 'meeting':
                                    eventClass = 'event-meeting';
                                    break;
                                default:
                                    eventClass = 'event-work';
                            }
                            
                            eventElement.className = `calendar-event ${eventClass}`;
                            eventElement.textContent = event.title;
                            eventElement.title = event.description || event.title;
                            
                            // Position the event
                            eventElement.style.position = 'absolute';
                            eventElement.style.top = `${hour * 60 + minutes}px`;
                            eventElement.style.left = '5px';
                            eventElement.style.right = '5px';
                            eventElement.style.height = `${durationInMinutes}px`;
                            
                            // Add click handler
                            eventElement.addEventListener('click', (e) => {
                                e.stopPropagation();
                                this.editEvent(event.id);
                            });
                            
                            timeGrid.appendChild(eventElement);
                        }
                    });
                    
                    // Add reminders
                    this.reminders.forEach(reminder => {
                        if (reminder.datetime) {
                            const reminderDate = new Date(reminder.datetime);
                            if (reminderDate.getDate() === day.getDate() && 
                                reminderDate.getMonth() === day.getMonth() && 
                                reminderDate.getFullYear() === day.getFullYear()) {
                                
                                const hour = reminderDate.getHours();
                                const minutes = reminderDate.getMinutes();
                                
                                // Create reminder element
                                const reminderElement = document.createElement('div');
                                reminderElement.className = 'calendar-event event-reminder';
                                reminderElement.textContent = reminder.title;
                                reminderElement.title = reminder.note || reminder.title;
                                
                                // Position the reminder
                                reminderElement.style.position = 'absolute';
                                reminderElement.style.top = `${hour * 60 + minutes}px`;
                                reminderElement.style.left = '5px';
                                reminderElement.style.right = '5px';
                                reminderElement.style.height = '30px'; // Fixed height for reminders
                                
                                timeGrid.appendChild(reminderElement);
                            }
                        }
                    });
                    
                    dayColumn.appendChild(timeGrid);
                    weekBody.appendChild(dayColumn);
                }
                
                weekView.appendChild(weekBody);
            }
            
            // Edit an existing event
            editEvent(eventId) {
                const event = this.events.find(e => e.id === eventId);
                if (!event) return;
                
                const modal = document.getElementById('event-modal');
                const titleInput = document.getElementById('event-title');
                const dateInput = document.getElementById('event-date');
                const startTimeInput = document.getElementById('event-start-time');
                const endTimeInput = document.getElementById('event-end-time');
                const locationInput = document.getElementById('event-location');
                const descriptionInput = document.getElementById('event-description');
                const categorySelect = document.getElementById('event-category');
                const deleteBtn = document.getElementById('delete-event-btn');
                
                if (!modal || !titleInput || !dateInput) return;
                
                // Update modal title
                document.querySelector('.event-modal-title').textContent = 'Edit Event';
                
                // Fill form with event data
                titleInput.value = event.title || '';
                
                // Handle date
                const eventDate = new Date(event.start);
                dateInput.value = eventDate.toISOString().split('T')[0];
                
                // Handle times
                if (startTimeInput && event.start) {
                    const startHours = eventDate.getHours().toString().padStart(2, '0');
                    const startMinutes = eventDate.getMinutes().toString().padStart(2, '0');
                    startTimeInput.value = `${startHours}:${startMinutes}`;
                }
                
                if (endTimeInput && event.end) {
                    const endDate = new Date(event.end);
                    const endHours = endDate.getHours().toString().padStart(2, '0');
                    const endMinutes = endDate.getMinutes().toString().padStart(2, '0');
                    endTimeInput.value = `${endHours}:${endMinutes}`;
                }
                
                if (locationInput) locationInput.value = event.location || '';
                if (descriptionInput) descriptionInput.value = event.description || '';
                if (categorySelect) categorySelect.value = event.category || 'work';
                
                // Show delete button
                if (deleteBtn) {
                    deleteBtn.style.display = 'inline-block';
                    deleteBtn.onclick = () => this.deleteEvent(eventId);
                }
                
                // Update save button to handle edit
                const saveBtn = document.getElementById('save-event-btn');
                if (saveBtn) {
                    saveBtn.onclick = () => this.updateEvent(eventId);
                }
                
                modal.style.display = 'flex';
            }
            
            // Save a new event
            saveEvent() {
                const titleInput = document.getElementById('event-title');
                const dateInput = document.getElementById('event-date');
                const startTimeInput = document.getElementById('event-start-time');
                const endTimeInput = document.getElementById('event-end-time');
                const locationInput = document.getElementById('event-location');
                const descriptionInput = document.getElementById('event-description');
                const categorySelect = document.getElementById('event-category');
                
                if (!titleInput || !titleInput.value.trim() || !dateInput || !dateInput.value) {
                    alert('Please enter a title and date');
                    return;
                }
                
                // Create date objects
                let startDate = new Date(dateInput.value);
                let endDate = new Date(dateInput.value);
                
                // Add time if provided
                if (startTimeInput && startTimeInput.value) {
                    const [hours, minutes] = startTimeInput.value.split(':');
                    startDate.setHours(parseInt(hours), parseInt(minutes));
                }
                
                if (endTimeInput && endTimeInput.value) {
                    const [hours, minutes] = endTimeInput.value.split(':');
                    endDate.setHours(parseInt(hours), parseInt(minutes));
                } else {
                    // Default end time is 1 hour after start
                    endDate.setHours(startDate.getHours() + 1, startDate.getMinutes());
                }
                
                // Create new event object
                const newEvent = {
                    id: 'event' + Date.now(),
                    title: titleInput.value.trim(),
                    start: startDate.toISOString(),
                    end: endDate.toISOString(),
                    location: locationInput ? locationInput.value : '',
                    description: descriptionInput ? descriptionInput.value : '',
                    category: categorySelect ? categorySelect.value : 'work'
                };
                
                // Add to events array
                this.events.push(newEvent);
                
                // Save to file (in a real app, this would be an API call)
                const schedulerData = {
                    events: this.events
                };
                
                // In a real app, this would be an API call to save the data
                console.log('New event added:', newEvent);
                console.log('Updated scheduler data:', schedulerData);
                
                // Close modal and refresh calendar
                document.getElementById('event-modal').style.display = 'none';
                this.renderCalendar();
            }
            
            // Update an existing event
            updateEvent(eventId) {
                const event = this.events.find(e => e.id === eventId);
                if (!event) return;
                
                const titleInput = document.getElementById('event-title');
                const dateInput = document.getElementById('event-date');
                const startTimeInput = document.getElementById('event-start-time');
                const endTimeInput = document.getElementById('event-end-time');
                const locationInput = document.getElementById('event-location');
                const descriptionInput = document.getElementById('event-description');
                const categorySelect = document.getElementById('event-category');
                
                if (!titleInput || !titleInput.value.trim() || !dateInput || !dateInput.value) {
                    alert('Please enter a title and date');
                    return;
                }
                
                // Create date objects
                let startDate = new Date(dateInput.value);
                let endDate = new Date(dateInput.value);
                
                // Add time if provided
                if (startTimeInput && startTimeInput.value) {
                    const [hours, minutes] = startTimeInput.value.split(':');
                    startDate.setHours(parseInt(hours), parseInt(minutes));
                }
                
                if (endTimeInput && endTimeInput.value) {
                    const [hours, minutes] = endTimeInput.value.split(':');
                    endDate.setHours(parseInt(hours), parseInt(minutes));
                } else {
                    // Default end time is 1 hour after start
                    endDate.setHours(startDate.getHours() + 1, startDate.getMinutes());
                }
                
                // Update event
                event.title = titleInput.value.trim();
                event.start = startDate.toISOString();
                event.end = endDate.toISOString();
                event.location = locationInput ? locationInput.value : '';
                event.description = descriptionInput ? descriptionInput.value : '';
                event.category = categorySelect ? categorySelect.value : 'work';
                
                // Save to file (in a real app, this would be an API call)
                const schedulerData = {
                    events: this.events
                };
                
                // In a real app, this would be an API call to save the data
                console.log('Event updated:', event);
                console.log('Updated scheduler data:', schedulerData);
                
                // Close modal and refresh calendar
                document.getElementById('event-modal').style.display = 'none';
                this.renderCalendar();
            }
            
            // Delete an event
            deleteEvent(eventId) {
                if (confirm('Are you sure you want to delete this event?')) {
                    this.events = this.events.filter(e => e.id !== eventId);
                    
                    // Save to file (in a real app, this would be an API call)
                    const schedulerData = {
                        events: this.events
                    };
                    
                    // In a real app, this would be an API call to save the data
                    console.log('Event deleted:', eventId);
                    console.log('Updated scheduler data:', schedulerData);
                    
                    // Close modal and refresh calendar
                    document.getElementById('event-modal').style.display = 'none';
                    this.renderCalendar();
                }
            }
        }
  </script>

  <script>
    // JavaScript for tab navigation functionality
    document.addEventListener('DOMContentLoaded', function() {
      const navItems = document.querySelectorAll('.nav-item');
      
      navItems.forEach(item => {
        item.addEventListener('click', function() {
          // Remove active class from all tabs
          navItems.forEach(tab => {
            tab.classList.remove('active');
          });
          
          // Add active class to clicked tab
          this.classList.add('active');
        });
      });

      // Update current date and time
      updateDateTime();
      setInterval(updateDateTime, 60000); // Update every minute
    });

    // Function to update the current date and time display
    function updateDateTime() {
      const dateElement = document.querySelector('.date');
      if (!dateElement) return;

      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      const dateString = now.toLocaleDateString('en-US', options);
      
      // Only update the text part, keeping the status indicator
      const statusHtml = dateElement.querySelector('.status').outerHTML;
      dateElement.innerHTML = dateString + statusHtml;
    }
  </script>
</body>
</html>